<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-09-12 Fri 16:38 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Introduction to Linux</title>
<meta name="author" content="Matthew Elwin" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" href="./pubme.css" type="text/css"/>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../index.html"> UP </a>
 |
 <a accesskey="H" href="./index.html"> HOME </a>
</div><div id="content" class="content">
<header>
<h1 class="title">Introduction to Linux</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#overview-1-P-3">Overview</a></li>
<li><a href="#what-is-linux--1-P-1">What is Linux?</a>
<ul>
<li><a href="#components-of-linux-2-P-1">Components of Linux</a></li>
</ul>
</li>
<li><a href="#what-is-ubuntu--1-P-1">What is Ubuntu?</a>
<ul>
<li><a href="#linux-distributions-2-P-1">Linux Distributions</a></li>
</ul>
</li>
<li><a href="#how-to-learn-1-P-1">How to Learn</a>
<ul>
<li><a href="#experience-2-P-1">Experience</a></li>
<li><a href="#read-the-manuals-2-P-1">Read the Manuals</a></li>
<li><a href="#learn-incrementally-2-P-1">Learn Incrementally</a></li>
<li><a href="#customization-versus-defaults-2-P-1">Customization versus Defaults</a></li>
<li><a href="#daily-usage-2-P-1">Daily usage</a></li>
<li><a href="#using-ai-2-P-1">Using AI</a></li>
</ul>
</li>
<li><a href="#the-command-line-1-P-1">The command line</a>
<ul>
<li><a href="#why-use-the-command-line--2-P-1">Why use the command line?</a></li>
<li><a href="#why-use-a-gui--2-P-1">Why use a GUI?</a></li>
<li><a href="#developing-command-line-skills-2-P-1">Developing command line skills</a></li>
<li><a href="#the-shell-2-P-1">The shell</a></li>
</ul>
</li>
<li><a href="#the-bash-shell-1-P-1">The Bash Shell</a>
<ul>
<li><a href="#the-prompt-2-P-1">The Prompt</a></li>
<li><a href="#readline-2-P-1">Readline</a></li>
<li><a href="#getting-help-2-P-1">Getting Help</a></li>
<li><a href="#exercises-2-P-1">Exercises</a></li>
</ul>
</li>
<li><a href="#the-virtual-filesystem-1-P-1">The Virtual Filesystem</a>
<ul>
<li><a href="#structure-2-P-1">Structure</a></li>
<li><a href="#navigation-2-P-1">Navigation</a></li>
<li><a href="#manipulation-2-P-1">Manipulation</a></li>
<li><a href="#mounts-2-P-1">Mounts</a></li>
<li><a href="#exercises-2-P-2">Exercises</a></li>
</ul>
</li>
<li><a href="#users-groups-permissions-1-P-1">Users, Groups, Permissions</a>
<ul>
<li><a href="#concepts-2-P-1">Concepts</a></li>
<li><a href="#utilities-2-P-1">Utilities</a></li>
<li><a href="#linux-file-permissions-2-P-1">Linux file permissions</a></li>
<li><a href="#directories-2-P-1">Directories</a></li>
<li><a href="#symlinks-2-P-1">Symlinks</a></li>
<li><a href="#root-2-P-1">root</a></li>
<li><a href="#exercises-2-P-3">Exercises</a></li>
</ul>
</li>
<li><a href="#process-management-1-P-1">Process Management</a>
<ul>
<li><a href="#processes-2-P-1">Processes</a></li>
<li><a href="#viewing-processes-2-P-1">Viewing Processes</a></li>
<li><a href="#signals-2-P-1">Signals</a></li>
<li><a href="#jobs-2-P-1">Jobs</a></li>
<li><a href="#exercises-2-P-4">Exercises</a></li>
</ul>
</li>
<li><a href="#computer-maintenance-1-P-1">Computer Maintenance</a>
<ul>
<li><a href="#package-management-2-P-1">Package management</a></li>
<li><a href="#initialization-system-2-P-1">Initialization System</a></li>
<li><a href="#system-logs-2-P-1">System Logs</a></li>
<li><a href="#environment-variables-2-P-1">Environment Variables</a></li>
<li><a href="#dotfiles-2-P-1">Dotfiles</a></li>
<li><a href="#exercises-2-P-5">Exercises</a></li>
</ul>
</li>
<li><a href="#intermediate-bash-1-P-1">Intermediate Bash</a>
<ul>
<li><a href="#streams-pipes-and-redirects-2-P-1">Streams, pipes, and redirects</a></li>
<li><a href="#bash-scripts-2-P-1">Bash scripts</a></li>
<li><a href="#exercises-2-P-6">Exercises</a></li>
</ul>
</li>
<li><a href="#networking-1-P-1">Networking</a>
<ul>
<li><a href="#a-layered-network-model-2-P-1">A Layered Network Model</a></li>
<li><a href="#hubs-and-switches-2-P-1">Hubs and Switches</a></li>
<li><a href="#ip-addresses-2-P-1">IP Addresses</a></li>
<li><a href="#ssh-2-P-1">SSH</a></li>
<li><a href="#hostname-2-P-1">Hostname</a></li>
<li><a href="#student_ssh_setup">Exercises</a></li>
</ul>
</li>
<li><a href="#using-the-gui-1-P-1">Using the GUI</a>
<ul>
<li><a href="#architecture-of-gui-in-linux-2-P-1">Architecture of GUI in Linux</a></li>
<li><a href="#copy-and-paste-2-P-1">Copy and Paste</a></li>
</ul>
</li>
<li><a href="#other-resources-1-P-1">Other Resources</a></li>
</ul>
</div>
</nav>
<div id="outline-container-overview-1-P-3" class="outline-2">
<h2 id="overview-1-P-3">Overview</h2>
<div class="outline-text-2" id="text-org6880000">
<p>
These notes present a guide for learning how to use Linux.
There are always exceptions to rules and I have omitted many
of these and other minor details for the sake of clarity.
</p>
</div>
</div>

<div id="outline-container-what-is-linux--1-P-1" class="outline-2">
<h2 id="what-is-linux--1-P-1">What is Linux?</h2>
<div class="outline-text-2" id="text-org9502bc6">
<ul class="org-ul">
<li>Colloquially, the term <i>Linux</i> refers to an operating system, like Windows, macOS, or OpenBSD.</li>
<li>Operating systems typically consist of a <i>kernel</i> which is the main interface to the physical hardware and the <i>user space</i>, a set of utilities
that users use to interact with the system.</li>
<li>Technically, Linux is the name of a kernel and the user space is provided by other organizations (most commonly <a href="https://gnu.org">GNU</a>)</li>
<li>The source code of Linux is free, so anybody is able to read, modify, and distribute it, unlike Windows or (most of) macOS.</li>
</ul>
</div>

<div id="outline-container-components-of-linux-2-P-1" class="outline-3">
<h3 id="components-of-linux-2-P-1">Components of Linux</h3>
<div class="outline-text-3" id="text-orgc68abdb">
<ul class="org-ul">
<li>Kernel: Drivers for hardware, memory management, filesystems, and task scheduling.
<ul class="org-ul">
<li>Special filesystems to interact with the kernel are <code>/dev</code>, <code>/proc</code>, and <code>/sys</code>.</li>
</ul></li>
<li>User-Space Programs (every program not the kernel).
<ul class="org-ul">
<li>Many were made by the GNU project, hence Linux is sometimes referred to as GNU/Linux.</li>
</ul></li>
<li>Init System: <code>systemd</code> is the first program that runs and schedules all the daemons (programs that run in the background).</li>
<li>Network Client: We'll use NetworkManager, but there are many other options (including <code>systemd</code>).</li>
<li>Graphical System: X Windows (the Xorg server implementation).  Another more-modern but choice is called Wayland.</li>
<li>Desktop Environment: On Ubuntu, by default, this is Gnome 3.
<ul class="org-ul">
<li>There are Ubuntu derivatives (Kubuntu, Lubuntu, Xubuntu) whose main difference
is having a different default desktop environment.</li>
<li>Window Manager: manages drawing windows for programs, often part of a desktop environment.</li>
</ul></li>
<li>Login Manager: <code>gdm</code>, manages logins graphically. It is possible to use Linux without a graphical login.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-what-is-ubuntu--1-P-1" class="outline-2">
<h2 id="what-is-ubuntu--1-P-1">What is Ubuntu?</h2>
<div class="outline-text-2" id="text-orge7baf7c">
<ul class="org-ul">
<li>Ubuntu is <i>Linux distribution</i>, a collection of software containing the <i>Linux</i> kernel, user space utilities, and other programs.</li>
<li>Ubuntu is created by <a href="https://www.canonical.com">Canonical</a>, a for-profit company that releases Ubuntu for free as part of its business.</li>
<li>There are many other <a href="https://distrowatch.com">Linux distributions</a>, many of which distribute software through a <i>package manager</i>.</li>
<li>We use Ubuntu because it is the primary Linux distribution supported by the Robot Operating System (ROS).</li>
<li>There are pros and cons to other Linux distributions relative to Ubuntu.</li>
</ul>
</div>

<details id="org8d3d9f9"><summary class="header-3">Linux Distributions</summary>
<div class="outline-text-3" id="text-org8d3d9f9">
<p>
There are several properties that distinguish different Linux distributions from each other.
</p>
<ul class="org-ul">
<li>Organizational structure: Corporation (e.g., Ubuntu, Red Hat), Community (e.g., Archlinux, Debian), Individual (e.g., Slackware).</li>
<li>Updates: Rolling (e.g., Archlinux), Release-Based (e.g., Ubuntu).</li>
<li>Package Manager: Declarative (e.g., NixOS, GuixSD), Simple Tarball (e.g., Slackware), Compile everything yourself (e.g., Gentoo), Debian Packages.</li>
<li>Software Allowed: Some closed-source (e.g., Archlinux, Debian), Free Software Only (e.g., Parabola).</li>
<li>Philosophy: Minimalistic (e.g., Alpine), easy to use (Ubuntu, Manjaro), for power users (e.g., Archlinux, Gentoo).</li>
</ul>
</div>
</details>
</div>
<div id="outline-container-how-to-learn-1-P-1" class="outline-2">
<h2 id="how-to-learn-1-P-1">How to Learn</h2>
<div class="outline-text-2" id="text-how-to-learn-1-P-1">
</div>
<div id="outline-container-experience-2-P-1" class="outline-3">
<h3 id="experience-2-P-1">Experience</h3>
<div class="outline-text-3" id="text-org8054d8b">
<ul class="org-ul">
<li>The best way to learn Linux is to use it every day.</li>
<li>Use your Linux computer for everything, even if it is at first less convenient.</li>
<li>The long-term benefits of having full control of your computer far outweigh any minor inconveniences.</li>
<li>Remember, a robot is a computer, and you are in the business of controlling robots.</li>
<li>Every time you fix something on your computer, you are getting better at robotics!</li>
</ul>
</div>
</div>

<div id="outline-container-read-the-manuals-2-P-1" class="outline-3">
<h3 id="read-the-manuals-2-P-1">Read the Manuals</h3>
<div class="outline-text-3" id="text-org6588e7c">
<ul class="org-ul">
<li>Sometimes, you need just a quick solution anywhere you can find it. But don't stop there:
<ul class="org-ul">
<li>Find the primary source for the solution and read it.</li>
<li>Don't be afraid to read source code to learn how a program works.</li>
</ul></li>
<li>Knowledge gleaned from reading more deeply into problems compounds over time.
<ul class="org-ul">
<li>The more experience you have, the more quickly you can skim manuals to focus on the relevant parts.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-learn-incrementally-2-P-1" class="outline-3">
<h3 id="learn-incrementally-2-P-1">Learn Incrementally</h3>
<div class="outline-text-3" id="text-org657a47c">
<ul class="org-ul">
<li>Each day, learn a new keyboard shortcut or command.</li>
<li>Integrate what you learned into your daily workflow slowly.</li>
<li>Frequently used commands will soon become second nature.</li>
</ul>
</div>
</div>

<div id="outline-container-customization-versus-defaults-2-P-1" class="outline-3">
<h3 id="customization-versus-defaults-2-P-1">Customization versus Defaults</h3>
<div class="outline-text-3" id="text-org79dd426">
<p>
Everything on Linux can be customized and most parts can be substituted with alternative programs.
There are advantages and disadvantages to customizing versus sticking with the defaults.
</p>
<dl class="org-dl">
<dt>Advantages</dt><dd><ul class="org-ul">
<li>Make your system works how you want it to work.</li>
<li>The process of customization helps you learn the system.</li>
</ul></dd>

<dt>Disadvantages</dt><dd><ul class="org-ul">
<li>The farther away from mainstream you go the less help there is.</li>
<li>Makes it harder to use other people's computers</li>
<li>Makes it harder for others to use your computer (maybe that's actually an advantage?)</li>
</ul></dd>
</dl>
</div>
</div>

<div id="outline-container-daily-usage-2-P-1" class="outline-3">
<h3 id="daily-usage-2-P-1">Daily usage</h3>
<div class="outline-text-3" id="text-org895d6f7">
<ul class="org-ul">
<li>Use the command line for most every-day tasks.
<ul class="org-ul">
<li>Once it becomes comfortable, you will find it faster, more widely applicable,
and easier to explain than other methods.</li>
<li>Don't use the graphical file manager. Instead learn to manage files from the command line.</li>
</ul></li>
<li>Ability to use the command line fluently is a crucial skill for a robotics engineer.
<ul class="org-ul">
<li>Many robots don't have a nice GUI interface to work with so there is no choice.</li>
<li>Some problems on computers cause graphical displays to malfunction, which means the command line is the only choice.</li>
<li>The more frequently you do something, the more it makes sense to learn the command-line version, which is often a first step to automating the task.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-using-ai-2-P-1" class="outline-3">
<h3 id="using-ai-2-P-1">Using AI</h3>
<div class="outline-text-3" id="text-org506af7c">
<ul class="org-ul">
<li>AI chatbots are pretty good at uncovering command line tools and options</li>
<li>A prompt I use with ChatGPT is: "provide a linux command to [do whatever]. Include a link to the official manual".</li>
<li>BE CAREFUL: an incorrect command can do major damage, and it can generate incorrect commands.</li>
<li>The link to the official manual provides a quick way to verify the information
<ul class="org-ul">
<li>Most of the difficulty in using command line tools is:
<ol class="org-ol">
<li>Knowing what tool to use</li>
<li>Knowing what options to use</li>
</ol></li>
</ul></li>
<li>AI can help discover those options, which then makes it easier to read the specific documentation necessary for your use case</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-the-command-line-1-P-1" class="outline-2">
<h2 id="the-command-line-1-P-1">The command line</h2>
<div class="outline-text-2" id="text-org1f6d516">
<p>
People use many terms to refer to the <i>command line</i>, the place where you type commands to control your computer.
Below is a brief overview of the technical differences between these terms, which are often used in a looser sense.
</p>

<ol class="org-ol">
<li>You type commands into a <code>shell</code> which interprets and executes them. Commands are case-sensitive (in most shells).</li>
<li>The shell runs inside a <code>terminal</code> (<code>tty</code> for short), a special "hardware" device that gets keyboard/mouse input and renders output.</li>
<li>A <code>tty</code> used to be a physical hardware device (also known as a <code>console</code> or <code>teletypewriter</code>).</li>
<li>In modern times, the <code>terminal</code> is usually emulated in software.</li>
<li>Linux creates <code>virtual consoles</code> to serve as virtual <code>tty</code> devices. To switch to these try <code>C-M-F4</code>. Use <code>C-M-F2</code> to return.
(<code>C</code> means Control, <code>M</code> means "meta" which is now the <code>Alt</code> key, the <code>-</code> indicates they should be pressed simultaneously).</li>
<li>Within your graphical system, special programs called <code>terminal emulators</code> mimic the behavior of a physical terminal using <code>pseudo-terminal</code> devices.</li>
</ol>
</div>
<div id="outline-container-bottom-line--3-P-1" class="outline-4">
<h4 id="bottom-line--3-P-1">Bottom line:</h4>
<div class="outline-text-4" id="text-org45df03a">
<ul class="org-ul">
<li>Unless you are doing something specific, the terms <code>console</code>, <code>terminal</code>, <code>shell</code>, and <code>command line</code></li>
</ul>
<p>
refer to where you enter text commands to the computer and see the output.
</p>
</div>
</div>

<div id="outline-container-why-use-the-command-line--2-P-1" class="outline-3">
<h3 id="why-use-the-command-line--2-P-1">Why use the command line?</h3>
<div class="outline-text-3" id="text-org26ecf6c">
<ol class="org-ol">
<li>Easier to automate tasks.
<ul class="org-ul">
<li>If you can accomplish something with a series of commands, you can put the commands into a script to automate them.</li>
</ul></li>
<li>Faster for certain tasks.
<ul class="org-ul">
<li>For example, rename all files ending in <code>.txt</code> to <code>.md</code></li>
</ul></li>
<li>Composability:   Can chain an arbitrary number of commands together, feeding the
input of one into the output of the other.</li>
<li>Easier to explain to others.
<ul class="org-ul">
<li>Commands can be replicated without resorting to screenshots or vague descriptions</li>
<li>Commands tend to be more stable than GUI, which seem to change with every update.</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-why-use-a-gui--2-P-1" class="outline-3">
<h3 id="why-use-a-gui--2-P-1">Why use a GUI?</h3>
<div class="outline-text-3" id="text-org5e46870">
<ol class="org-ol">
<li>Easier to use and discover new features.</li>
<li>Some tasks may benefit from a mouse.</li>
<li>Easier to present information graphically and interactively.</li>
</ol>
</div>
</div>

<div id="outline-container-developing-command-line-skills-2-P-1" class="outline-3">
<h3 id="developing-command-line-skills-2-P-1">Developing command line skills</h3>
<div class="outline-text-3" id="text-org5b8d861">
<ol class="org-ol">
<li>Practice by using it every day.</li>
<li>Look up how to do tasks via the command line even if you can just use the GUI.</li>
<li>Be incremental. Each day, focus on adding a new task or learning a new shortcut or customization.</li>
<li>Eventually, you can start trying to simplify tasks that you find tedious or are repeating a lot.</li>
<li>Don't be afraid to modify configuration files.</li>
</ol>
</div>
</div>

<div id="outline-container-the-shell-2-P-1" class="outline-3">
<h3 id="the-shell-2-P-1">The shell</h3>
<div class="outline-text-3" id="text-orgf733a02">
<ul class="org-ul">
<li>Program that runs inside the terminal and lets you interact with the operating system.</li>
<li>Reads your keyboard commands, performs an action, and displays output.</li>
<li>Usually doubles as an interpreter for a scripting language.</li>
<li>This is the User Interface (UI) of the command line.</li>
</ul>
</div>
<div id="outline-container-many-types-of-shells-3-P-1" class="outline-4">
<h4 id="many-types-of-shells-3-P-1">Many types of shells</h4>
<div class="outline-text-4" id="text-org6547651">
<ul class="org-ul">
<li><a href="https://www.gnu.org/software/bash/">bash</a> - This is the most common and I will assume its use in examples.</li>
<li><a href="https://wiki.archlinux.org/title/Dash">dash</a> - basic, POSIX compliant shell, invoked with <code>/bin/sh</code>. Used for maximum portability. Not a good shell to use interactively, but it is always there as a lowest-common-denominator.</li>
<li><a href="https://zsh.sourceforge.io/">zsh</a> - Mostly bash compatible, but with many extra features.</li>
<li><a href="https://www.tcsh.org/">tcsh</a> - C shell.</li>
<li><a href="https://fishshell.com/">fish</a> - A "user friendly" shell.</li>
<li><a href="https://www.nushell.sh/">nushell</a> - A shell with advanced features for parsing and interpreting the output of commands.</li>
<li><a href="https://www.oilshell.org/">Oil Shell</a> - A shell designed with an easier-to-use scripting language.</li>
<li>For ROS, the most supported shells are <code>dash</code>, <code>bash</code> and <code>zsh</code>.</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-the-bash-shell-1-P-1" class="outline-2">
<h2 id="the-bash-shell-1-P-1">The Bash Shell</h2>
<div class="outline-text-2" id="text-the-bash-shell-1-P-1">
</div>
<div id="outline-container-the-prompt-2-P-1" class="outline-3">
<h3 id="the-prompt-2-P-1">The Prompt</h3>
<div class="outline-text-3" id="text-orgc661832">
<p>
When you first start the shell you are presented with a <i>prompt</i> and are able to type commands.
</p>
<ul class="org-ul">
<li>The prompt (by default) displays <code>&lt;user&gt;@&lt;hostname&gt;:~$</code> and then has a cursor where the commands you type are displayed</li>
<li>Every command occurs in the context of a <i>working directory</i>.
<ul class="org-ul">
<li>By default the prompt shows the current working directory.</li>
<li>The <code>~</code> symbol expands to <code>/home/&lt;username&gt;</code> and is usually where the shell will start when it is first opened</li>
<li>The <code>pwd</code> command (print working directory) displays the <i>path</i> to the current working directory.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-readline-2-P-1" class="outline-3">
<h3 id="readline-2-P-1">Readline</h3>
<div class="outline-text-3" id="text-org8bc87c9">
<ol class="org-ol">
<li>Tab completion - Press <code>TAB</code> to complete the rest of the command. If there is no unique match press <code>TAB</code> again to view possible matches.
<ul class="org-ul">
<li>There are many options to customize this behavior if you want.</li>
<li>When in doubt, press <code>TAB</code>.</li>
<li>Usually when <code>TAB</code> does not do what you expect it is because your expectations are incorrect.</li>
</ul></li>
<li>Bash keeps a history of your commands.  Use the up arrow to scroll through previous commands.</li>
<li>Reverse search: type part of a command, then press <code>C-r</code> to start searching through your history for a similar command.</li>
<li>Bash uses the <i>readline</i> library to enable these keyboard shortcuts and other behavior related to processing your input.
<ul class="org-ul">
<li><i>readline</i> is also used by other programs and can be customized. See <code>info readline</code> for more details.</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-getting-help-2-P-1" class="outline-3">
<h3 id="getting-help-2-P-1">Getting Help</h3>
<div class="outline-text-3" id="text-orgf061aed">
<p>
Although the internet is useful, your system comes with built-in documentation that is quite thorough.
When solving a Linux problem, it often helps to consult this built-in documentation in conjunction with any online instructions
that you may find, as a way to understand what you are doing and why it may help. The advantage of using built-in help is that
it is the help for the same versions of the software that are installed on your computer.
</p>
</div>

<div id="outline-container-command-line-flags-3-P-1" class="outline-4">
<h4 id="command-line-flags-3-P-1">Command Line flags</h4>
<div class="outline-text-4" id="text-orgecb3950">
<ul class="org-ul">
<li><code>-h</code> or <code>--help</code>. These are mostly standard and often cause programs to output useful information.</li>
</ul>
</div>
</div>

<div id="outline-container-commands-with-subcommands-3-P-1" class="outline-4">
<h4 id="commands-with-subcommands-3-P-1">Commands with Subcommands</h4>
<div class="outline-text-4" id="text-org5f7f190">
<ul class="org-ul">
<li>Many modern Linux programs (e.g., <code>git</code>) follow a <code>command subcommand</code> pattern.</li>
<li>Often, <code>help</code> is a subcommand, and <code>-h</code> or <code>--help</code> can added before or after each subcommand to get more details.</li>
</ul>
</div>
</div>

<div id="outline-container-man-pages-3-P-1" class="outline-4">
<h4 id="man-pages-3-P-1">Man pages</h4>
<div class="outline-text-4" id="text-org694a551">
<p>
Manual pages are the primary built-in documentation system.
</p>
<ul class="org-ul">
<li><code>man</code> - Manual pages reader program.</li>
<li><code>man man</code> to see a description of <code>man</code>.</li>
<li><code>man &lt;program&gt;</code>  Manual page for <code>&lt;program&gt;</code>.</li>
<li><code>man</code> (by default) uses <code>vi</code> style keys:
<ul class="org-ul">
<li>Search for text is <code>/</code>.</li>
<li>Scroll down is <code>j</code> up is <code>k</code>.</li>
<li><code>h</code> for more help.</li>
<li><code>q</code> to quit.</li>
</ul></li>
</ul>
<ul class="org-ul">
<li><code>man X topic</code> view section X of the manual on the given topic.
<ul class="org-ul">
<li><code>man cd</code>: Does not work because <code>cd</code> is a shell built-in (<code>type cd</code> can tell you this information).
<ul class="org-ul">
<li>On some systems there is a man page for cd.</li>
</ul></li>
<li><code>man</code> does not have hyperlinks, since it was invented before hyperlinks became prevalent!
<ul class="org-ul">
<li>So you have to manually follow references.</li>
</ul></li>
</ul></li>
<li><code>apropos topic</code> searches descriptions in manpages for the topic you are looking for.</li>
</ul>
</div>
</div>
<div id="outline-container-bash-help-3-P-1" class="outline-4">
<h4 id="bash-help-3-P-1">bash help</h4>
<div class="outline-text-4" id="text-org7dea8a1">
<ul class="org-ul">
<li><code>help</code> - This is a shell built-in that provides help on shell built-ins.</li>
<li><code>help help</code> - Information on how to use <code>help</code>.</li>
</ul>
</div>
</div>
<div id="outline-container-info-3-P-1" class="outline-4">
<h4 id="info-3-P-1">info</h4>
<div class="outline-text-4" id="text-org538792c">
<ul class="org-ul">
<li>The GNU project has its own documentation: <code>info</code> pages.</li>
<li>Most of the basic user tools on Linux are GNU projects and have extensive <code>info</code> pages.</li>
<li>Info pages are available using the <code>info</code> command. They are also usually hosted online as html.</li>
<li><p>
The command itself works like <code>man</code> except the viewer is more capable, having modern innovations such as hyperlinks.
</p>

<p>
How to navigate info pages?
</p>
<ul class="org-ul">
<li>Emacs style keys (by default).</li>
<li><code>ctrl-n next line</code>.</li>
<li><code>ctrl-p previous line</code>.</li>
<li><code>enter - follow link</code>.</li>
<li><code>u up a level</code>.</li>
<li>if you run <code>info</code> by itself, it describes how to do a tutorial or get help.</li>
</ul>

<p>
Info pages tend to be more informative than man pages and easier to navigate.
</p></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-exercises-2-P-1" class="outline-3">
<h3 id="exercises-2-P-1">Exercises</h3>
<div class="outline-text-3" id="text-org824a3df">
<ol class="org-ol">
<li><p>
Run the following commands, being sure to press the correct keys/commands to exit each program that may be launched:
</p>
<div class="org-src-container">
<pre class="src src-bash">man man
man --help <span class="org-comment-delimiter"># </span><span class="org-comment">comments start with #
</span><span class="org-builtin">help</span> exit
bash    <span class="org-comment-delimiter"># </span><span class="org-comment">you can start one instance of a shell inside another
</span><span class="org-builtin">cd</span> /tmp <span class="org-comment-delimiter"># </span><span class="org-comment">move to the /tmp directory
</span><span class="org-builtin">pwd</span>     <span class="org-comment-delimiter"># </span><span class="org-comment">print the current directory
</span><span class="org-comment-delimiter"># </span><span class="org-comment">Use a command to exit the shell you just launched
</span><span class="org-comment-delimiter"># </span><span class="org-comment">What do you think the current directory is?
</span><span class="org-comment-delimiter"># </span><span class="org-comment">What command can you use to confirm? Try it.</span>
</pre>
</div></li>
<li>Use the up and down arrow keys to get a feel for navigating your history.</li>
<li>Type <code>m</code> then press up. What command is shown?
<ul class="org-ul">
<li>Press <code>C-a</code> to move to the start of the line.</li>
<li>Press <code>C-e</code> to move to the end of the line.</li>
<li>Press <code>C-u</code> to clear the current line.</li>
<li>The above keys are the standard emacs navigation shortcuts.</li>
</ul></li>
<li>Type <code>m</code> then <code>C-r</code> a few times.  What happens?</li>
<li><p>
Many find <code>C-r</code> cumbersome and prefer using the arrow keys to search through history based on what I've started typing.
(So it will find everything beginning with what has been typed).
If you want to enable this behavior run the following code to create <code>~/.inputrc</code>, a configuration file that controls <code>readline</code>:
</p>
<div class="org-src-container">
<pre class="src src-bash"><span class="org-builtin">echo</span>  <span class="org-string">'"\e[A":history-search-backward'</span> &gt;&gt; ~/.inputrc
<span class="org-builtin">echo</span>  <span class="org-string">'"\e[B":history-search-forward'</span> &gt;&gt; ~/.inputrc
</pre>
</div>
<p>
Restart <code>bash</code> to apply the changes.
If you <code>less ~/.inputrc</code> you should see the lines above are in the file
</p></li>
<li>Type <code>m</code> then press up, what command is shown?
<ul class="org-ul">
<li>Clear the current line.</li>
</ul></li>
<li>Try to rerun the command <code>man man</code> using as few keystrokes as possible.  What were they?</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-the-virtual-filesystem-1-P-1" class="outline-2">
<h2 id="the-virtual-filesystem-1-P-1">The Virtual Filesystem</h2>
<div class="outline-text-2" id="text-the-virtual-filesystem-1-P-1">
</div>
<div id="outline-container-structure-2-P-1" class="outline-3">
<h3 id="structure-2-P-1">Structure</h3>
<div class="outline-text-3" id="text-org0c079f3">
<ul class="org-ul">
<li>The <a href="https://www.kernel.org/doc/html/latest/filesystems/vfs.html">Virtual File System</a> (VFS) is the primary organizing structure on a Linux system.</li>
<li>Collections of related data are called <a href="http://www.linfo.org/file.html">files</a> and are stored in the (VFS) as nodes in a tree.
<ul class="org-ul">
<li>Everything on Linux is a file, including hardware devices!</li>
<li>Filenames are case sensitive.</li>
<li>Although Linux supports using spaces (' ') in file names, I recommend against this practice because the shell requires you to
place the file name in quotation marks or <i>escape</i> the space by inserting a backslash <code>\</code> character (e.g. <code>The\ File\ With\ Spaces</code>).</li>
</ul></li>
<li>The base node of the VFS tree is called the <i>root directory</i> and is referred to as <code>/</code> (slash).</li>
<li>A <a href="http://www.linfo.org/directory.html">directory</a> contains multiple files and other directories.
<ul class="org-ul">
<li>Technically, a directory is a special type of file containing pointers to the elements it contains (everything on Linux is a file).</li>
<li>This document treats files and directories separately unless treating a directory as a file is relevant.</li>
<li>Every directory contains the directory <code>.</code> (dot), which refers to itself, and <code>..</code> (dot-dot), which refers to the parent directory (<code>/..</code> refers to <code>/</code>).</li>
</ul></li>
<li>An <code>absolute path</code> starts with a <code>/</code> and contains a sequence of directories, optionally terminated with a file.
<ul class="org-ul">
<li>For example <code>/home/user</code>, <code>/</code>, <code>/home/user/./../user/file</code></li>
<li>Such a path refers to a specific file or directory, regardless of context.</li>
<li>When used at the beginning of a path, the shell expands the <code>~</code> (tilde) symbol to <code>/home/username</code>. Thus, paths starting with a <code>~</code> are also absolute paths.</li>
</ul></li>
<li>A <code>relative path</code> is a sequence of directory names, optionally terminated with a file, that does not start with a <code>/</code>.
<ul class="org-ul">
<li>For example <code>usr/bin</code>, <code>home/user/..</code>, <code>./myscript</code></li>
<li>The entity that is referenced by a <code>relative path</code> depends on context.
<ul class="org-ul">
<li>Typically relative paths are relative to the <i>working directory</i> which is the current directory that is active in the <code>shell</code>.</li>
<li>The path is <i>resolved</i> by appending the relative path to the path of the working directory.</li>
<li>Other programs may use relative paths where the path is relative to some other directory in the system (such as a directory the program uses for configuration).</li>
</ul></li>
</ul></li>
<li>Directory structure is standardized according to <a href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs/index.html">Linux Filesystem Hierarchy Standard</a> (although not every Linux distribution or program follows this standard perfectly)
<ul class="org-ul">
<li><code>/bin</code> - basic commands for executing</li>
<li><code>/sbin</code> - tools generally that should only be used by root</li>
<li><code>/lib</code> - shared libraries and kernel modules</li>
<li><code>/usr/bin</code> - files to execute</li>
<li><code>/usr/lib</code> - shared libraries for most programs</li>
<li><code>/etc</code> - global configuration files</li>
<li><code>/tmp</code> - temporary, now adays its in ram and reset everytime reboot</li>
<li><code>/run</code> - temporary runtime data (some things that used to be stored in var)</li>
<li><code>/var</code> - data that programs write, log files, etc</li>
<li><code>/home</code> - user home directory</li>
<li><code>/root</code> - root's home directory</li>
<li><code>/media</code> - automatically mounted filesystems (more about mounting later)</li>
<li><code>/mnt</code> - the area for mount points</li>
<li><code>/sys</code> - access information from the kernel</li>
<li><code>/proc</code> - enables processes and kernel to interact</li>
</ul></li>
<li>Ubuntu and Debian have their own additions to the File System Hierarchy:
<ul class="org-ul">
<li><code>/snap</code> - used for Ubuntu snaps, not part of the standard.</li>
<li><code>/bin.usr-is-merged</code> <code>/sbin.usr-is-merged</code>, <code>/lib.usr-is-merged</code>:
<ul class="org-ul">
<li>On modern systems <code>/bin</code>, <code>/sbin</code> and <code>/lib</code> point to <code>/usr/bin</code> <code>/usr/sbin</code> and <code>/usr/lib</code> respectively</li>
<li>The <code>/{bin,sbin,lib}.usr-is-merged</code> are present on debian-derived systems (like Ubuntu) to indicate that the system has done this</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-navigation-2-P-1" class="outline-3">
<h3 id="navigation-2-P-1">Navigation</h3>
<div class="outline-text-3" id="text-org17ca964">
<p>
Here are some commands for traversing the VFS from the command line
</p>
<ul class="org-ul">
<li><code>pwd</code> - shows the current working directory.</li>
<li><code>ls</code> - List files in a directory.
<ul class="org-ul">
<li>By default, <code>ls</code> does not show files that start with a <code>.</code>, causing these files to be hidden.</li>
<li>Use <code>ls -a</code> to show hidden files.</li>
<li>Use <code>ls -l</code> to show more information about the files.
<ul class="org-ul">
<li><code>ls | less</code> lets you page through the listing (more on this later).</li>
<li><code>ls b*</code> uses globbing to list all files starting with <code>b</code> (see <code>man 7 glob</code>).</li>
</ul></li>
</ul></li>

<li><code>cd</code> - Change the working directory.
<ul class="org-ul">
<li><code>cd -</code> Change back to the previous working directory.</li>
<li><code>cd</code>   Change to the home directory.</li>
</ul></li>
</ul>
</div>
<div id="outline-container-example-3-P-1" class="outline-4">
<h4 id="example-3-P-1">Example</h4>
<div class="outline-text-4" id="text-org17773e8">
<p>
Here is an example that uses some commands to explore the filesystem.
</p>
<div class="org-src-container">
<pre class="src src-bash"><span class="org-builtin">pwd</span>
ls
ls -a
ls -l
<span class="org-builtin">cd</span> /
ls
<span class="org-builtin">cd</span> /usr/bin
ls
<span class="org-builtin">cd</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-manipulation-2-P-1" class="outline-3">
<h3 id="manipulation-2-P-1">Manipulation</h3>
<div class="outline-text-3" id="text-orga80910a">
<p>
Many commands modify the filesystem structure.
</p>
<ul class="org-ul">
<li><code>mkdir</code> creates a new directory.</li>
<li><code>rmdir</code> removes a directory (the directory must be empty).</li>
<li><code>cp</code> copies a file.  Use <code>cp -i</code> to warn you if copying will overwrite an existing file.</li>
<li><code>mv</code> move a file, also used for quick renaming.
<ul class="org-ul">
<li>Use <code>mv -i</code> to warn you if moving will overwrite a file.</li>
<li>Use <code>mv -n</code> to prevent you from overwriting a file</li>
<li><code>mv</code> can be dangerous: if you move one file over another that file is lost forever.</li>
</ul></li>
<li><code>rm</code> deletes files permanently (use with caution)
<ul class="org-ul">
<li><code>rm -r</code> deletes directories recursively (use with extreme caution).</li>
<li><code>rm -rf</code> deletes directories recursively and does not warn if deleting</li>
<li><code>trash</code> (install with <code>sudo apt install trash-cli</code> provides an alternative to <code>rm</code> which will allow you to recover files deleted accidentaly.</li>
</ul></li>
<li><code>ln</code> Linking (like a shortcut in Windows but better).
<ul class="org-ul">
<li>To create a symbolic link (symlink) use <code>ln -s</code>.</li>
<li>This comamand creates a file that points to another file.</li>
<li>Opening the symlink is (mostly) equivalent to opening the file it points to.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-mounts-2-P-1" class="outline-3">
<h3 id="mounts-2-P-1">Mounts</h3>
<div class="outline-text-3" id="text-org2550480">
<ul class="org-ul">
<li>Mounts are used to make a set of files appear somewhere in the VFS.</li>
<li>The data that compose files are physically organized on their storage medium (e.g., a harddrive) by a <a href="http://www.linfo.org/filesytem.html">filesystem</a> such as
<ul class="org-ul">
<li><i>ext4</i> The basic journaling filesystem for Linux, and the one your harddrive uses.</li>
<li><i>NTFS</i> (Windows partitions).</li>
<li><i>APFS</i> (macOS).</li>
<li><i>FAT32</i> (small usb drives or sd cards).</li>
<li><i>exFat</i> (large usb drives or sd cards).</li>
</ul></li>
<li>Filesystems usually reside on a storage device such as a harddrive or CD-ROM.
<ul class="org-ul">
<li>In general these devices on Linux are called <i>block devices</i>.</li>
</ul></li>
<li>A block device can be divided into one or more partitions.
<ul class="org-ul">
<li>Each partition is a section of the device can contain a different filesystem.</li>
</ul></li>
<li>Each block device and each partition is treated as a separate device in Linux and has its own file under <code>/dev</code>.</li>
<li>Each partition can be mounted to a subdirectory under <code>/</code>.
<ul class="org-ul">
<li>Drivers in the Linux kernel then display the contents of the device as a familiar directory system.</li>
</ul></li>
<li>The <code>/etc/fstab</code> file configures mounts (e.g., mounting your harddrive to <code>/</code> on boot).</li>
<li>Use <code>lsblk</code> to see the names of devices that can store filesystems.</li>
<li>Loopback devices (<code>/dev/loop*</code>) enable Linux to mount a file containing a disk image (i.e., a bit-for-bit copy of a filesystem)
and pretend it is a physical device.</li>
<li>These devices are just files!
<ul class="org-ul">
<li>You can read the raw data from them (that is the bytes that make up the filesystem) and write data to them (probably corrupting the disk).</li>
</ul></li>
<li>The <code>mount -t &lt;filesystem&gt; &lt;device&gt; &lt;location&gt;</code> command mounts a device with a given filesystem to a given location.
<ul class="org-ul">
<li>The filesystem can often be omitted as it is automatically detected.</li>
</ul></li>
<li><code>umount &lt;device|location&gt;</code> unmounts a device or loacation.</li>
<li><code>df -h</code> Shows free disk space by device.</li>
<li><code>du -h</code> Shows disk space used by individual files or directories.</li>
<li>By default, Ubuntu automatically mounts devices such as flash drives.
<ul class="org-ul">
<li>You can find these devices under <code>/media/$USER</code> (where <code>$USER</code> is your username).</li>
</ul></li>
<li>In a modern linux system, your desktop environment (e.g., gnome) usually automatically mounts disks when they are attached to your computer (e.g., when inserting a USB flash drive)
<ul class="org-ul">
<li>The mounts appear under <code>/media/&lt;username&gt;</code></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-exercises-2-P-2" class="outline-3">
<h3 id="exercises-2-P-2">Exercises</h3>
<div class="outline-text-3" id="text-orgb8368c1">
<p>
When doing these exercises, use <code>TAB</code> completion as much as possible.
</p>
<ol class="org-ol">
<li>Create a hidden directory within your home directory to use as the trash.
<ul class="org-ul">
<li>These notes refer to the directory as <code>trash</code>, but you need to name it so that it is hidden.</li>
</ul></li>
<li>Using <code>ls</code>, Verify that the directory exists and is hidden.</li>
<li>Create a directory <code>/home/$USER/hackathon/ex1</code> by typing as few characters as possible.
<ul class="org-ul">
<li>Hint: this step can be done with one <code>mkdir</code> command&#x2026;</li>
</ul></li>
<li>Change to the root directory <code>/</code> and list the files there.</li>
<li>List the files in your home directory without changing your current directory.</li>
<li>List the files in <code>/usr/bin</code>.</li>
<li>Change your current directory to <code>/usr/bin</code>.</li>
<li>List the files in a directory in reverse order.
<ul class="org-ul">
<li>Hint: use the manual for <code>ls</code> and search for the word "reverse" by pressing <code>/</code> in <code>man</code>.</li>
</ul></li>
<li>Change the working directory to <code>~/hackathon/</code> and verify that the working directory has changed.</li>
<li>Rename <code>ex1</code> to <code>example1</code>, using relative paths.</li>
<li>Copy a few files from <code>/usr/bin/</code> to the <code>example1</code> directory.</li>
<li>Move the <code>example1</code> directory to your <code>trash</code> directly.</li>
<li>Create a symlink to your <code>trash</code> directory under <code>~/hackathon</code> and use it to <code>cd</code> into the trash directory.
<ul class="org-ul">
<li>What is the output of <code>pwd</code>?</li>
<li>What is the output of <code>ls ..</code>?</li>
</ul></li>
<li>Use <code>rm</code> to permanently and irrevocably delete the contents of <code>trash</code> without deleting the the directory itself.</li>
<li>Use a command other than <code>rm</code> to delete the <code>trash</code> directory.</li>
<li>Use a command to determine the name of file corresponding to the physical device that contains the data for the root file system.
<ul class="org-ul">
<li>What command did you use and what is the name of the device?</li>
</ul></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-users-groups-permissions-1-P-1" class="outline-2">
<h2 id="users-groups-permissions-1-P-1">Users, Groups, Permissions</h2>
<div class="outline-text-2" id="text-users-groups-permissions-1-P-1">
</div>
<div id="outline-container-concepts-2-P-1" class="outline-3">
<h3 id="concepts-2-P-1">Concepts</h3>
<div class="outline-text-3" id="text-org690fed9">
<ul class="org-ul">
<li>In Linux, everything is a file (including directories and devices).</li>
<li>Every file is owned by one user and one group.</li>
<li>Every user belongs to one or more groups.</li>
<li>Permissions control what operations can be performed on a file, based on the user and the groups that is trying to perform the action</li>
<li>The file owner controls the file permissions</li>
</ul>
</div>
</div>
<div id="outline-container-utilities-2-P-1" class="outline-3">
<h3 id="utilities-2-P-1">Utilities</h3>
<div class="outline-text-3" id="text-org1438313">
<ul class="org-ul">
<li><code>whoami</code> retrieves your username</li>
<li><code>groups</code> shows what groups you are in</li>
<li><code>users</code> shows what users are logged in</li>
<li><code>w</code> shows information about logged in users</li>
<li><code>id</code> shows the numbers corresponding to users and groups
<ul class="org-ul">
<li>Every user has a unique identifier called a UID</li>
<li>Every group has a unique identifier called a GID</li>
</ul></li>
<li><code>ls -l</code> shows who owns what and the permissions</li>
<li><code>chown user:group file</code> Changes the user and group that owns file</li>
</ul>
</div>
</div>

<div id="outline-container-linux-file-permissions-2-P-1" class="outline-3">
<h3 id="linux-file-permissions-2-P-1">Linux file permissions</h3>
<div class="outline-text-3" id="text-org2e31bd5">
<p>
There are (mostly) three types of permissions:
</p>
<ul class="org-ul">
<li>r - read: enables you to view the contents of a file or directory</li>
<li>w - write: enables you to modify the contents of a file or directory</li>
<li>x - execute: enables you to run the file or enter into a directory</li>
</ul>

<p>
Permissions apply to users, groups, and everyone else (other).
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">User</th>
<th scope="col" class="org-left">Group</th>
<th scope="col" class="org-left">Other</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">rwx</td>
<td class="org-left">rwx</td>
<td class="org-left">rwx</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>Think of these permissions as three bits <code>000</code>, for read, write, execute.</li>
<li>Each set of permissions is represented by an octal (base 8) number.</li>
<li>If a bit is 1 the corresponding permission is allowed, otherwise it is denied.</li>
</ul>

<p>
Use <code>chmod</code> to change permissions on files.
</p>
<ul class="org-ul">
<li>You can provide an octet to specify all permissions at once:</li>
<li><code>chmod 755 file</code> (common permissions for executables, <code>rwxr-xr-x</code>)</li>
<li><code>chmod 644 file</code> (universally readable file, only user who owns it can write, <code>rw-r--r-</code>)</li>
</ul>

<p>
Or modify using letter codes for (u)ser (g)roup (o)others, and (a)ll
</p>
<ul class="org-ul">
<li><code>chmod a+x</code></li>
<li><code>chmod a-x</code></li>

<li>Using letters with <code>chmod</code> is advantageous when you only want to change some permissions while leaving others unmodified</li>
<li>Using octals with <code>chmod</code> is advantageous when you want to specify all the permissions of the file at one time.</li>
</ul>
</div>
<details id="orgd9ecd97"><summary class="header-4">Advanced Permissions</summary>
<div class="outline-text-4" id="text-orgd9ecd97">
<p>
There are more advanced permissions than discussed above, but they are rarely encountered in robotics.
</p>

<p>
The following three variants of executable bits (corresponding to user, group, and other respectively) generally have significant security
implications and should only be used after seriously considering various threat scenarios.
</p>
<ul class="org-ul">
<li><code>setuid</code>: if set makes an executable run with the privileges of the user who owns the file.
<ul class="org-ul">
<li>Files that have this bit and the user execute bit set have an <code>s</code> where the <code>x</code> usually is when displayed with <code>ls -l</code>  (e.g., <code>/usr/bin/sudo</code>)</li>
<li>If a file owned by root is <code>setuid</code> it executes with <code>root</code> permissions, regardless of who runs it (very dangerous).</li>
</ul></li>
<li><code>setgid</code>: if set makes an executable run with privileges of the group who owns the file.
<ul class="org-ul">
<li>If set on a directory, any files created within the directory are owned by the group of the directory instead of the owner.</li>
</ul></li>
<li>"sticky bit": when set on a directory files in the directory can only be removed by the owner (e.g., <code>/tmp</code>).
<ul class="org-ul">
<li>Sticky bit is a <code>t</code> instead of the the <code>other</code> execute permission.</li>
<li>Normally, permission to remove files from a directory is related to the ownership and permissions of the directory not the file itself. The
sticky bit changes this relationship.</li>
</ul></li>
<li><a href="https://man7.org/linux/man-pages/man5/acl.5.html">Access Control Lists</a> (ACLs) enable fine-grained permissions (such as enabling specific users to access a directory). These
mainly exist to overcome limitations imposed by files only being able to be owned by a single user and group .</li>
<li><a href="https://man7.org/linux/man-pages/man7/xattr.7.html">Extended Attributes</a> (xattr) provide extra attributes to files and directories (e.g., ACLs are implemented with them).</li>
</ul>
</div>
</details>
</div>

<div id="outline-container-directories-2-P-1" class="outline-3">
<h3 id="directories-2-P-1">Directories</h3>
<div class="outline-text-3" id="text-org12dfd84">
<p>
Directories are files. They have owners and permissions too.
</p>
<ul class="org-ul">
<li>In the output of <code>ls -l</code>, a <code>d</code> in the first permission column indicates that a file is a directory (e.g. <code>drwxr-xr-x</code>)</li>
<li>To see permissions for a specific directory do <code>ls -l -d1 &lt;dirname&gt;</code>.
<ul class="org-ul">
<li>The <code>-d1</code> prevents <code>ls</code> from recursively displaying information from sub-directories of <code>&lt;dirname&gt;</code>.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-symlinks-2-P-1" class="outline-3">
<h3 id="symlinks-2-P-1">Symlinks</h3>
<div class="outline-text-3" id="text-org84ce872">
<ul class="org-ul">
<li>A symlink is a file that points to another file (called the target).</li>
<li>The symlink acts as if it were the target file.</li>
<li>Create a symlink with <code>ln -s TARGET LINK_NAME</code></li>
<li>Symlinks have an <code>l</code> in the first column of <code>ls -l</code> output (e.g., <code>lwxrwxrwxr</code>).
<ul class="org-ul">
<li>Symlinks do not have their own permissions.  All <code>chmod</code> operations on a symlink happen to the target file.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-root-2-P-1" class="outline-3">
<h3 id="root-2-P-1">root</h3>
<div class="outline-text-3" id="text-orgae995fe">
<ul class="org-ul">
<li><code>root</code> is the all powerful user.  <code>root</code> can do anything.  Be careful when you run with <code>root</code> permissions.
<ul class="org-ul">
<li>By default, <code>root</code> can read and write to any file in the system, regardless of ownership or permissions</li>
<li><code>root</code> can change ownership of any file, and become any user without needing a password.</li>
<li><code>root</code> cannot execute files that do not have the execute permission. However, <code>root</code> can always set this permission bit.</li>
</ul></li>
<li><code>sudo</code> lets you temporarily execute commands as <code>root</code> by entering your own user password.
<ul class="org-ul">
<li>This command lets you administer your system without directly becoming <code>root</code>.</li>
<li>The <code>root</code> user controls which users have access to <code>sudo</code>.</li>
</ul></li>
<li><code>su</code> lets you change to a different user. By default that user is <code>root</code>, but you will need the root password.
<ul class="org-ul">
<li>On Ubuntu, you do not know the root password. (This is a choice that Ubuntu has made; other distributions work differently).</li>
<li>You can use <code>sudo</code> to set a root password if you want (arguably this is less secure and not a good idea).</li>
</ul></li>
</ul>
</div>
<details id="orgcb84eb6"><summary class="header-4">Security Notes</summary>
<div class="outline-text-4" id="text-orgcb84eb6">
<p>
The concept of permissions is enforced by the running system, which has the following implications:
</p>
<ol class="org-ol">
<li>If the data-storage device that holds the files is not encrypted, anybody with physical access to the device can put it into their own machine (where they have root access)
and read all the files.</li>
<li>If the hard-drive is not encrypted, anybody with physical access to the computer can boot into the machine as the <code>root</code> user, without needing to know the root password.</li>
</ol>
</div>
</details>
</div>

<div id="outline-container-exercises-2-P-3" class="outline-3">
<h3 id="exercises-2-P-3">Exercises</h3>
<div class="outline-text-3" id="text-org26e45de">
<ol class="org-ol">
<li>What are the permissions for <code>/usr/bin/ls</code>?</li>
<li>What are the permissions of your home directory?</li>
<li>Create a new file. What are its permissions?</li>
<li>Remove the write permission from the file you just created and try to modify it.  What happens?</li>
<li>Create a new directory and a file in that directory.  Remove the execute permission.
What happens when you try to <code>cd</code> into it?</li>
<li>Remove the read permission from the directory.  What happens when you <code>ls</code> the directory?</li>
<li>Restore the execute permission and try to <code>cd</code> into the directory.  What happens?</li>
<li>Set permissions so that you can list the files in the directory, <code>cd</code> into it, but not add or remove files from it.</li>
<li>Determine the permission octets for the following common permissions:
<ol class="org-ol">
<li><code>rwxr-xr-x</code> (usually used for scripts)</li>
<li><code>rw-r-r</code> (A file you want to share with others but only you modify it)</li>
<li><code>rw-rw-rw</code> (Everyone can read and write the file</li>
</ol></li>
</ol>
</div>
</div>
</div>

<div id="outline-container-process-management-1-P-1" class="outline-2">
<h2 id="process-management-1-P-1">Process Management</h2>
<div class="outline-text-2" id="text-process-management-1-P-1">
</div>
<div id="outline-container-processes-2-P-1" class="outline-3">
<h3 id="processes-2-P-1">Processes</h3>
<div class="outline-text-3" id="text-org4bd4bc7">
<ul class="org-ul">
<li>The basic unit of execution on Linux is called a <a href="http://www.linfo.org/process.html">process</a>. Most programs that you run consist of a single process
but a few (such as <code>firefox</code>) consist of multiple coordinated processes.</li>

<li>Each process has a unique process identifier (PID), that can be used to interact with it.</li>

<li>You can launch processes from the command line: in fact when you ran many of the commands in the previous section
you were actually causing the Linux kernel to load and execute a process.</li>

<li>Process are organized hierarchically into a tree structure. Process on Linux can spawn child processes. By default the processes you run 
from the shell are <i>child processes</i> of the shell (and so the shell is their <i>parent process)</i>. When the parent processes terminates its
children also stop running.</li>

<li>Processes can also be launched as <a href="http://www.linfo.org/daemon">daemons</a>.  These are background processes not associated with a shell and will continue running even when
the shell exits.</li>

<li>For example, when you run <code>ls</code>, this command launches a process that lists files and then terminates.</li>

<li>The shell, <code>bash</code>, is also a process.  Some shell-builtins, are a part of <code>bash</code> and don't launch separate processes (such as <code>cd</code>).</li>
</ul>
</div>
</div>

<div id="outline-container-viewing-processes-2-P-1" class="outline-3">
<h3 id="viewing-processes-2-P-1">Viewing Processes</h3>
<div class="outline-text-3" id="text-orgfa6d1e7">
<ul class="org-ul">
<li><code>ps</code> reports information about processes.
<ul class="org-ul">
<li><code>ps</code> by default shows processes run from your current shell.</li>
<li><code>ps aux</code> shows all processes by all users regardless of whether they are associated with a shell.
<ul class="org-ul">
<li>The <code>a</code> adds processes from all users not just your user.</li>
<li>The <code>u</code> prints the username and some other information next to the processes.</li>
<li>The <code>x</code> adds processes not associated with the shell.</li>
</ul></li>
</ul></li>
<li><code>pstree</code> shows the process tree.
<ul class="org-ul">
<li>If process <code>A</code> launches process <code>B</code> then <code>A</code> is the parent of <code>B</code> and <code>B</code> is the child of <code>A</code>.</li>
</ul></li>
<li><code>top</code> provides interactive process monitoring in the terminal.  It includes CPU and memory usage reports.</li>
<li><code>htop</code> (install with <code>sudo apt install htop</code>) is a fancier version of top with an easier-to-interpret display and easier to use interface.</li>
<li><code>free -h</code> Shows the amount of free RAM and swap memory used by the processes on your system in a human readable format</li>
<li><code>pgrep</code> search for processes that meet certain criteria (such as name).</li>
</ul>
</div>
</div>

<div id="outline-container-signals-2-P-1" class="outline-3">
<h3 id="signals-2-P-1">Signals</h3>
<div class="outline-text-3" id="text-orgb2e31ed">
<ul class="org-ul">
<li>The user can communicate with processes using signals.</li>
<li>Each signal invokes a different behavior (see <code>man 7 signals</code>)
<ul class="org-ul">
<li>Each signal has a name and a number (the number depends on processor architecture)</li>
<li>Four important signals are:
<ol class="org-ol">
<li><code>SIGKILL</code> Tell the process to close.</li>
<li><code>SIGSTP</code> Tell the process to stop executing code but remain in memory.</li>
<li><code>SIGCONT</code> Tell the process to resume.</li>
<li><code>SIGQUIT</code> Tell the process to terminate immediately.</li>
</ol></li>
</ul></li>
<li><code>kill</code> sends a signal to a process with a given PID.
<ul class="org-ul">
<li><code>kill -KILL 1435</code> will send SIGKILL to PID 1435.</li>
<li><code>kill -9 1435</code> will  also send SIGKILL to PID 1435, since (on x86) 9 is the number for <code>SIGKILL</code>.</li>
</ul></li>
<li><code>pkill</code> sends a signals to processes matching a certain criteria.
<ul class="org-ul">
<li>You probably want to <code>pgrep</code> before <code>pkill</code> to see what it's going to do.</li>
</ul></li>
<li><code>killall</code> sends a signals to processes that exactly match a given name.</li>
</ul>
</div>
</div>
<div id="outline-container-jobs-2-P-1" class="outline-3">
<h3 id="jobs-2-P-1">Jobs</h3>
<div class="outline-text-3" id="text-orgf6a161d">
<p>
Jobs are processes that you run from the shell. The shell keeps track of these
processes and helps you manage the, which is often more convenient than managing processes based on PIDs.
As <code>jobs</code> are a shell-specific concept, this information primarily pertains to <code>bash</code> (although other shells have similar functionality).
</p>

<p>
Normally, when you run a command, it starts the process in the <i>foreground</i>. The shell will not offer
a prompt to read new keyboard input until the process terminates.
</p>

<p>
You can also start a process in the <i>background</i> by appending an ampersand <code>&amp;</code> to the command (e.g. <code>command &amp;</code>).
The shell prints the job number and PID of the process for your reference and then provides another prompt, letting you continue running commands as
the process you started runs.
</p>

<p>
Here are some commands and keyboard sequences that relate to jobs.  Jobs are the primary way that a user can
run multiple programs simultaneously from a single shell.
</p>
<ul class="org-ul">
<li><code>jobs</code> lists the jobs.  Each job has a number. The first job is 1 and they increment.
Refer to the job as <code>%NUMBER</code> (e.g., <code>%1</code>) in commands</li>
<li>Pressing <code>C-c</code> will send <code>SIGKILL</code> to the current foreground process, which should cleanup and terminate.</li>
<li>Pressing <code>C-\</code> will send <code>SIGQUIT</code> to the current foreground process and tell it to terminate immediately
(use sparingly. processes can sometimes ignore SIGKILL but in most circumstances SIGQUIT will get through, however the process will forego some cleanup routines).</li>
<li>Pressing <code>C-z</code> will send <code>SIGSTP</code> to the current foreground process, which will suspend it (it remains in RAM but does not run).</li>
<li><code>bg %&lt;JOB&gt;</code> will resume <code>&lt;JOB&gt;</code> in the background (e.g., <code>bg %1</code>).</li>
<li><code>fg %&lt;JOB&gt;</code> will bring <code>&lt;JOB&gt;</code> into the foreground and resume it if it had been suspended.</li>
<li><code>disown %&lt;JOB&gt;</code> will detach the job from the shell (so it will not be terminated when the shell closes).</li>
<li>You can also use <code>%&lt;JOB&gt;</code> with <code>kill</code> to send a signal to the specified job.</li>
</ul>
</div>
</div>

<div id="outline-container-exercises-2-P-4" class="outline-3">
<h3 id="exercises-2-P-4">Exercises</h3>
<div class="outline-text-3" id="text-org19aeab9">
<ol class="org-ol">
<li>Run <code>gedit</code> from the terminal (<code>sudo apt install gedit</code> to install).
Note that you cannot run more commands in terminal until gedit exits.</li>
<li>Suspend the process with <code>C-z</code>. What happens to <code>gedit</code>?</li>
<li>Use <code>jobs</code> to see the processes you have started in the shell.</li>
<li>Resume <code>gedit</code> in the background. What happens to <code>gedit</code>?</li>
<li>Bring <code>gedit</code> to the foreground.</li>
<li>Quit <code>gedit</code> by typing the appropriate keys in the terminal.</li>
<li>Launch gedit directly in the background.</li>
<li>Close gedit with one command from the terminal.</li>
<li>Run <code>gedit</code> in the background again, then exit the shell by closing the terminal window.</li>
<li>Run <code>gedit</code> in the background again, then exit the shell by typing <code>exit</code></li>
</ol>
</div>

<div id="outline-container-the-sighup-signal-3-P-1" class="outline-4">
<h4 id="the-sighup-signal-3-P-1">The SIGHUP Signal</h4>
<div class="outline-text-4" id="text-org2c540c0">
<p>
Background jobs behave differently, depending on how you exit <code>bash</code>.
</p>
<ol class="org-ol">
<li>When you quit the terminal, the terminal emulator sends <code>SIGHUP</code> to <code>bash</code>.</li>
<li><code>bash</code>, in turn, sends <code>SIGHUP</code> to the jobs it was running, which usually causes them to terminate.</li>
<li>If however, you exit bash by using the <code>exit</code> built-in or by sending bash the EOF character <code>C-d</code>,
<code>SIGHUP</code> is not sent so backgrounded processes continue to run.</li>
<li>You can prevent bash from sending SIGHUP upon terminal closure using <code>disown</code>.</li>
</ol>
</div>
</div>
</div>
</div>

<div id="outline-container-computer-maintenance-1-P-1" class="outline-2">
<h2 id="computer-maintenance-1-P-1">Computer Maintenance</h2>
<div class="outline-text-2" id="text-computer-maintenance-1-P-1">
</div>
<div id="outline-container-package-management-2-P-1" class="outline-3">
<h3 id="package-management-2-P-1">Package management</h3>
<div class="outline-text-3" id="text-org4d462ec">
<ol class="org-ol">
<li>The main package management tool on Ubuntu is <code>apt</code>.</li>
<li>You will see references to <code>apt-get</code> everywhere: this command still works but is an older tool.
<ul class="org-ul">
<li><code>apt</code> provides a mostly compatible but nicer interface to <code>apt-get</code>.</li>
<li>For example, by default <code>apt</code> includes status bars and other information that is useful.</li>
<li><code>apt-get</code> still works if you want to use it and is preferred for scripts.</li>
</ul></li>
<li>Any <code>apt</code> command that will change your system must be run as root (i.e, use <code>sudo</code>).</li>
<li>The <code>--dry-run</code> option lets you see what <code>apt</code> will do without actually doing it.
<ul class="org-ul">
<li>Be careful, as you can seriously destroy your system with <code>apt</code>, especially if you start using exotic flags.</li>
<li>Linux distributions like <a href="https://gnu.guix.org">Guix</a> and <a href="https://nixos.org">NixOS</a> are designed around
package managers that let you deterministically roll-back changes and were developed partially as a reaction
to problems you can run into with traditional package managers like <code>apt</code>.</li>
</ul></li>
</ol>
</div>
<div id="outline-container-important-apt-commands-3-P-1" class="outline-4">
<h4 id="important-apt-commands-3-P-1">Important Apt Commands</h4>
<div class="outline-text-4" id="text-org1fb93c4">
<dl class="org-dl">
<dt><code>apt update</code></dt><dd>Downloads the latest package descriptions from servers configured in <code>/etc/apt/sources.list</code>
and <code>/etc/apt/sources.list.d</code>. Use this command before running others.</dd>

<dt><code>apt upgrade</code></dt><dd>Upgrades all packages to the latest version, but won't delete any packages.
<code>sudo apt full-upgrade</code> (or equivalently <code>sudo apt dist-ugprade</code> will remove packages if upgrade means they are no longer needed).</dd>

<dt><code>apt install pkg-name</code></dt><dd>Install a new package, retrieved from servers specified in <code>/etc/apt/sources.list</code> and <code>/etc/apt/sources.list.d/</code>.</dd>

<dt><code>apt install $path_to_deb_file</code></dt><dd>Install a new package from a <code>.deb</code> file.</dd>

<dt><code>apt remove pkg-name</code></dt><dd>Remove a package but keep configuration files.</dd>

<dt><code>apt purge pkg-name</code></dt><dd>Remove a package and all configuration files.</dd>

<dt><code>apt search pkgname</code></dt><dd>Find packages that have the word <code>pkgname</code> in them.</dd>

<dt><code>apt autoremove</code></dt><dd>Remove unneeded dependencies.</dd>

<dt><code>apt autopurge</code></dt><dd>Remove unneeded dependencies and their configuration files.</dd>

<dt><code>apt list</code></dt><dd>View packages that are available.
 <code>apt list --installed</code> to see installed packages</dd>
</dl>
</div>
</div>
<div id="outline-container-third-party-packages-3-P-1" class="outline-4">
<h4 id="third-party-packages-3-P-1">Third-Party Packages</h4>
<div class="outline-text-4" id="text-org3d5ec76">
<p>
You may need a program or library that does not come with Ubuntu. Reasons include:
</p>
<ol class="org-ol">
<li>You need a different version than Ubuntu includes.</li>
<li>The package is not open-source (e.g., zoom).</li>
</ol>

<p>
Sometimes you may need to install a package from its source code:
</p>
<ul class="org-ul">
<li>Each package has different build methods.</li>
<li>Two common build methods are <code>cmake</code> and <code>autotools</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-language-specific-package-managers-3-P-1" class="outline-4">
<h4 id="language-specific-package-managers-3-P-1">Language-specific package managers</h4>
<div class="outline-text-4" id="text-orgb695409">
<ul class="org-ul">
<li>Many programming languages have their own package managers.</li>
<li>Python has <code>pip</code> (invoked as <code>pip3</code> on Ubuntu).</li>
<li>I recommend using virtual environments for python projects that do not use ROS 2.</li>
<li>If you want a python program available on your system, my first preference is to install from <code>apt</code> or use <code>pip</code> in a virtual environment.
<ul class="org-ul">
<li>These packages are named <code>python3-packagename</code>.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-on-upgrading-3-P-1" class="outline-4">
<h4 id="on-upgrading-3-P-1">On Upgrading</h4>
<div class="outline-text-4" id="text-orgaf6d2ad">
<ol class="org-ol">
<li>You should primarily use <code>sudo apt upgrade</code> to upgrade your computer, rather than <code>sudo apt dist-upgrade</code>.</li>
<li>The <code>dist-upgrade</code> command can remove packages from your computer and thus is more dangerous than <code>upgrade</code>.</li>
<li>Only use <code>dist-upgrade</code> after carefully inspecting what it will do and understanding the consequences.</li>
<li>In this case we need to use <code>dist-upgrade</code> so that new <code>nvidia</code> drivers and tools can be installed.</li>
<li>Unlike on Windows, on Linux you essentially never need to reboot after an upgrade
<ul class="org-ul">
<li>People pride themselves on how long their computers remain on without rebooting</li>
<li>There are many situations where rebooting or running a bunch of commands will fix a problem
<ul class="org-ul">
<li>Oftentimes (especially on a laptop) it is easier to just reboot anyway.</li>
</ul></li>
<li>I recommend rebooting after a <code>kernel</code> update
<ul class="org-ul">
<li>Technically a <code>kernel</code> can be reloaded without rebooting, but this is usually not necessary and
somewhat difficult to setup.</li>
</ul></li>
</ul></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-initialization-system-2-P-1" class="outline-3">
<h3 id="initialization-system-2-P-1">Initialization System</h3>
<div class="outline-text-3" id="text-orge23e241">
<p>
The init system controls what happens when you start your computer and what tasks run in the background.
</p>
<ol class="org-ol">
<li><a href="https://freedesktop.org/wiki/Software/systemd/">Systemd</a> is responsible for running tasks automatically when your computer starts.</li>
<li>It also does a lot more (such as logging with <code>journald</code>).</li>
<li>Use <code>systemctl</code> to control daemons (background processes) running on your computer.</li>
<li><code>systemctl start &lt;service&gt;</code> starts a service.</li>
<li><code>systemctl stop &lt;service&gt;</code> stops a service.</li>
<li><code>systemctl enable &lt;service&gt;</code> makes the service run during the boot process.</li>
<li><code>systemctl disable &lt;service&gt;</code>  prevents the service from running during the boot process.</li>
<li><code>systemctl reboot [--firmware-setup]</code> will reboot your computer (<code>--firmware-setup</code> enters the UEFI screen on reboot).</li>
<li><code>systemctl poweroff</code> will turn off your computer.</li>
<li><code>systemctl isolate &lt;stage&gt;</code> switches to a different run level (e.g., <code>single-user</code>, <code>multi-user</code>, <code>graphical</code>.</li>
<li><code>systemd</code> also has timers, which can run a task at a given time (like <code>chrontab</code>).</li>
<li><code>systemd --user &lt;command&gt;</code> lets you start tasks as an ordinary user.</li>
</ol>
</div>

<details id="orgb93ec2e"><summary class="header-4">Other Init Systems</summary>
<div class="outline-text-4" id="text-orgb93ec2e">
<ul class="org-ul">
<li>Most Linux systems currently use <code>systemd</code>.</li>
<li>Prior to <code>systemd</code> most Linux systems used either <code>sysvinit</code> or <code>bsd</code> init. These init systems were based on shell scripts
and some Linux distributions still use them today.</li>
<li>Other Linux init systems include <code>openrc</code> and <code>GNU Shepherd</code></li>
</ul>
</div>
</details>
</div>
<div id="outline-container-system-logs-2-P-1" class="outline-3">
<h3 id="system-logs-2-P-1">System Logs</h3>
<div class="outline-text-3" id="text-org6b113e5">
<ol class="org-ol">
<li>Examining log files is one of the first steps to take when something goes wrong.</li>
<li>If you are unsure of something and are asking someone for help, it often makes sense to show them log information.</li>
<li>Logs are stored in <code>/var/log</code>.</li>
<li><code>dmesg</code> shows logs related to the kernel.</li>
<li>Systemd has a built-in logging system called <code>journald</code>.</li>
<li><code>journalctl -u &lt;service&gt;</code> returns log entries for the given service.</li>
<li><code>journalctl -x</code> shows extra explanatory information which can be helpful.</li>
<li>You can use <code>journalctl</code> to view other types of logs as well, see <code>man journalctl</code>.</li>
</ol>
</div>
</div>

<div id="outline-container-environment-variables-2-P-1" class="outline-3">
<h3 id="environment-variables-2-P-1">Environment Variables</h3>
<div class="outline-text-3" id="text-orgb3e9591">
<ul class="org-ul">
<li>Environment variables store information that can be accessed by processes.</li>
<li>Environment variables can be local to the process or marked for export, which makes them inherited by the child process.</li>
<li><code>printenv</code> displays all currently defined variables.</li>
<li><code>printenv VARNAME</code> displays the value of <code>VARNAME</code>.</li>
<li><code>echo $var</code> prints the value of <code>var</code> (<code>echo</code> generally prints data to the screen).</li>
<li><code>env</code> displays the currently defined variables and does other things.</li>
<li>To set environment variables in <code>bash</code>.
<ul class="org-ul">
<li><code>VARNAME=value</code> sets the value within the shell but processes launched from the shell won't see it.</li>
<li><code>export VARNAME</code> to make the variable visible to processes launched from the shell.</li>
<li><code>export VARNAME=value</code> sets the variable and exports it.</li>
<li><code>VARNAME=val runprogram</code> exports the variable to the program run on that line but the value is cleared afterwards.</li>
<li><code>unset VARNAME</code> clears the environment variable.</li>
</ul></li>
<li>To access the value of an environment variable prefix it with a <code>$</code>.
<ul class="org-ul">
<li>By default, the value of the variable is substituted wherever you write <code>$var</code>.</li>
<li>You can also use the syntax <code>${var}</code>, which can separate var from subsequent characters.</li>
<li>You can use <code>\$</code> to get a literal dollar sign.</li>
<li>Single quotes (<code>''</code>) also suppress a variable substitution.</li>
</ul></li>
<li>Command substitution: <code>$(command)</code>  will be replaced with the output from <code>command</code>.
Therefore you can capture a command output in a variable by doing <code>var=$(command)</code>,
 e.g., <code>var=$(echo "hello")</code>, var will hold "hello".</li>
</ul>
</div>
<div id="outline-container-the-path-environment-variable-3-P-1" class="outline-4">
<h4 id="the-path-environment-variable-3-P-1">The PATH environment variable</h4>
<div class="outline-text-4" id="text-org9b1a7a5">
<p>
When you type a command, <code>bash</code> must be able to find it.
</p>
<ol class="org-ol">
<li>If the command is a builtin, bash executes the appropriate code.</li>
<li>If not, bash searches in the directories specified by <code>PATH</code>.</li>
<li>You can also directly specify the path to an executable with a relative or absolute path (e.g., <code>/usr/bin/python</code>).</li>
<li>Adding directories to the path is sometimes necessary when installing certain programs.</li>
<li>To append to the path use <code>PATH=$PATH:newdir</code>.  (Exercise: Why does this work?)</li>
<li>The current directory is NOT on the <code>PATH</code> (due to security issues).
<ul class="org-ul">
<li>To run an executable in the current directory you must specify the path to it.</li>
<li>For an executable in the current directory, use <code>./executable</code>.</li>
</ul></li>
<li>To see what file <code>bash</code> will execute use the <code>which &lt;executable&gt;</code>.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-dotfiles-2-P-1" class="outline-3">
<h3 id="dotfiles-2-P-1">Dotfiles</h3>
<div class="outline-text-3" id="text-org15ff02a">
<p>
Dotfiles refer to the hidden files that programs place in your home directory and (more recently) under <code>~/.config</code>.
These files contain user-specific configuration for most programs on Linux, whereas global configuration is stored in <code>/etc</code>.
Using dotfiles, you can customize most aspects of your system.
</p>
</div>

<div id="outline-container-startup-3-P-1" class="outline-4">
<h4 id="startup-3-P-1">Startup</h4>
<div class="outline-text-4" id="text-orga8e7869">
<p>
There are several files that run <code>bash</code> commands whenever you log into the shell.
The main file you use to control <code>shell</code> settings is called <code>~/.bashrc</code>.
</p>

<p>
Use <code>~/.bashrc</code> to:
</p>
<ol class="org-ol">
<li>Add directories to your path, using export.</li>
<li>Add command aliases: an alias is a shortcut that gets substituted with a larger command
<ul class="org-ul">
<li><code>alias</code> will display all the current aliases</li>
<li><code>alias spdir="cd /home/user/my/dir/that/I/always/goto"</code> will let you type <code>spdir</code> to execute the specified <code>cd</code>.</li>
<li>To use aliases with 'sudo', add <code>alias sudo='sudo '</code> to the <code>.bashrc</code>.</li>
</ul></li>
<li>Set other environment variables, for example, <code>PS1</code> controls what you see on the command prompt.</li>
<li>Editing and customizing your <code>.bashrc</code> is a great way to make your computer fit you better and to learn a bit about shell scripting.</li>
</ol>

<p>
Ubuntu, by default, provides you with a <code>.bashrc</code>. This <code>.bashrc</code> loads aliases from a file called <code>.bash_alias</code>.
This behavior is not standard, it is something that Ubuntu adds.
</p>
</div>
</div>

<div id="outline-container-managing-dotfiles-3-P-1" class="outline-4">
<h4 id="managing-dotfiles-3-P-1">Managing Dotfiles</h4>
<div class="outline-text-4" id="text-org2884fe3">
<p>
When you put a lot of work into your dotfiles, it can be helpful to track changes, deploy to multiple machines, and share with others.
This <a href="https://wiki.archlinux.org/title/Dotfiles">Archlinux wiki page</a> provides a lot of useful information on tools and strategy for managing dotfiles.
</p>
</div>
</div>
</div>

<div id="outline-container-exercises-2-P-5" class="outline-3">
<h3 id="exercises-2-P-5">Exercises</h3>
<div class="outline-text-3" id="text-org6ea9745">
<ol class="org-ol">
<li>Print the value of the HOME environment variable.</li>
<li><code>cd</code> uses the value of HOME to determine where to go when no arguments are provided.
<ol class="org-ol">
<li>Using the HOME environment variable, and without passing any arguments to <code>cd</code>, use a single command to change your directory to <code>/usr/bin</code></li>
<li><code>cd</code> back to your home directory.</li>
</ol></li>
<li>Display your path.</li>
<li>Save <code>PATH</code> by running <code>export opath=$PATH</code>.</li>
<li>Display your path.</li>
<li>Copy <code>/usr/bin/free</code> to your home directory.</li>
<li>Run <code>free</code>.  Which <code>free</code> are you using? (The one installed on the system or the one in your home directory?)</li>
<li>Append your home directory to <code>PATH</code>.  Run <code>free</code>. Which <code>free</code> are you using now?</li>
<li>Clear <code>PATH</code> so that it is empty.
<ul class="org-ul">
<li>Verify that it is empty using <code>echo</code>.</li>
<li>Try running <code>free</code>. What happens? Why?</li>
<li>Try running <code>ls</code>. What happens? Why?</li>
<li>Run the <code>free</code> in your home directory by specifying the relative path to it.</li>
<li>Run the <code>free</code> in <code>/usr/bin</code> by specifying the full path to it</li>
<li>Move <code>~/free</code> to <code>/tmp</code> (since <code>/tmp</code> is stored in RAM this copy will be deleted on your next reboot.</li>
<li>Restore the <code>PATH</code> (<code>export PATH=$opath</code>) and verify that <code>ls</code> works</li>
<li>Bonus: Why did <code>echo</code> work and <code>ls</code> did not when you unset the <code>PATH</code>?  Hint: use the <code>type</code> command to find out.</li>
</ul></li>
<li>Install a package with <code>apt</code>. Some programs you may wish to install:
<ul class="org-ul">
<li>Picture editing <i>gimp</i> (Free Photoshop), <i>inkscape</i> (Free Adobe Illustrator), <i>imagemagick</i> (Command line image manipulation).</li>
<li><i>mplayer</i> (Media Player), <i>vlc</i> (media player), <i>ffmpeg</i> (Basically do anything with video files, but from the command line.</li>
<li><i>ripgrep</i>, a utility for a full-text search of files via the command-line.</li>
</ul></li>
<li>View what you have done using <code>apt</code> by examining the <code>apt</code> log file.  <code>less /var/log/apt/term.log</code>.</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-intermediate-bash-1-P-1" class="outline-2">
<h2 id="intermediate-bash-1-P-1">Intermediate Bash</h2>
<div class="outline-text-2" id="text-orgd62f88d">
<p>
Bash is not just an interface to your computer, it is also a complete programming language
that is good for automating and combining tasks.
</p>
</div>

<div id="outline-container-streams-pipes-and-redirects-2-P-1" class="outline-3">
<h3 id="streams-pipes-and-redirects-2-P-1">Streams, pipes, and redirects</h3>
<div class="outline-text-3" id="text-orgeb766df">
<p>
Streams, pipes, and redirects constitute the <i>plumbing</i> of bash and enable you easily change the input source, output destination
of programs and chain together programs. The <a href="https://homepage.cs.uri.edu/~thenry/resources/unix_art/ch01s06.html">Unix philosophy</a>
is to have many programs that do one thing well and allow the user to chain these programs together.
</p>
</div>

<div id="outline-container-streams-3-P-1" class="outline-4">
<h4 id="streams-3-P-1">Streams</h4>
<div class="outline-text-4" id="text-orgb497553">
<p>
Every console program automatically opens three special files, called <a href="http://www.linfo.org/stdio.html">streams</a>:
</p>
<ul class="org-ul">
<li><code>stdin</code> - standard input stream: this is the file that sends keyboard input to a program.</li>
<li><code>stdout</code> - standard output stream: this sends characters from a program to the terminal for displaying.</li>
<li><code>stderr</code> - like <code>stdout</code> but used to separate error message from regular messages.</li>
</ul>

<p>
These special files are used by the program to obtain keyboard input from and output text to the user.
</p>

<p>
These streams can be redirected to files on disk, allowing you to directly save the output of a program to disk
or feed a program input from disk.  This technique works for any program, even if it does not explicitly provide save/restore functionality.
</p>

<ul class="org-ul">
<li>To redirect stdout to a file: <code>&lt;cmd&gt; &gt; outfile</code>, where <code>&lt;cmd&gt;</code> is the command.  
For example <code>echo "hello" &gt; outfile</code> will cause outfile to contain the text "hello\n".  
<ul class="org-ul">
<li>Redirecting to output files overwrites them so be careful.</li>
<li>Setting the <code>noclobber</code> option (<code>set -o noclobber</code>) will prevent this behavior and require the use of <code>&gt;|</code> to overwrite files</li>
<li>To unset <code>noclobber</code> use <code>set +o noclobber</code>.</li>
<li>If you set and get used to this option, be careful as most systems do not have it enabled for historical reasons.</li>
</ul></li>
<li>To redirect <code>stdout</code> and have it append to a file: <code>&lt;cmd&gt; &gt;&gt; file</code>.</li>
<li>To redirect <code>stdin</code> use <code>&lt;cmd&gt; &lt; file</code>.</li>
<li>To redirect <code>stderr</code> use <code>&lt;cmd&gt; 2 &gt; file</code> (This works because stderr has file descriptor 2).</li>
<li>To redirect <code>stdout</code> to <code>stderr</code> use <code>&lt;cmd&gt; 2 &gt; &amp;1</code>.  The <code>&amp;1</code> indicates a redirection to file descriptor 1 which is <code>stdout</code>.</li>
<li>Redirect to <code>/dev/null</code> to suppress the output (<code>/dev/null</code> is a file that discards anything written to it).</li>
</ul>
</div>
</div>


<div id="outline-container-pipes-3-P-1" class="outline-4">
<h4 id="pipes-3-P-1">Pipes</h4>
<div class="outline-text-4" id="text-org5288544">
<p>
A <a href="http://www.linfo.org/pipes.html">pipe</a> connects the <code>stdout</code> of one program to the <code>stdin</code> of another program.  
Thus, the output of one program acts as the input to another program.
</p>

<ul class="org-ul">
<li>Create an anonymous pipe using the syntax <code>&lt;cmd1&gt; | &lt;cmd2&gt;</code>, where <code>&lt;cmd1&gt;</code> and <code>&lt;cmd2&gt;</code> are commands.  
The output of <code>&lt;cmd1&gt;</code> will be used as the input for <code>&lt;cmd2&gt;</code>.</li>
<li>Create a named pipe using <code>mkfifo</code>.  Processes can open the file for writing or reading. The kernel 
forwards any data written to the pipe to the processes reading from the pipe.</li>
</ul>
</div>
</div>

<div id="outline-container-useful-programs-3-P-1" class="outline-4">
<h4 id="useful-programs-3-P-1">Useful Programs</h4>
<div class="outline-text-4" id="text-orgac9e1dc">
<p>
These programs are especially useful when combined with pipes and redirection and most are already installed on your computer
</p>
<ul class="org-ul">
<li><code>grep</code>  This program searches its input for matching strings.  It has powerful regular expression (regex) abilities
but in its simplest form, <code>grep word</code> will read from <code>stdin</code> and output to <code>stderr</code> any
line containing word.</li>
<li><code>rg</code>  Ripgrep (install with <code>apt install ripgrep</code>) is an enhanced grep replacement with default options that make it easy to search through source code.</li>
<li><code>tldr</code> TLDR provides short help snippets for various commands.</li>
<li><code>find</code> Used to find files.  Powerful, but the most useful case is
<code>find . -name *.cpp</code> will find all the <code>.cpp</code> files in the current directory and recursively in sub-directories</li>
<li><code>less</code> Less is a pager, a program that takes long outputs and lets you scroll through them easily.  Typically you will
pipe the output of commands to <code>less</code>, but <code>less file</code> will let you see and scroll through a file easily.</li>
<li><code>sort</code>  Sorts its input alphabetically</li>
<li><code>diff</code>  Display the differences between two files</li>
<li><code>curl</code> (Install with <code>apt</code>)  Download a webpage and output to <code>stdout</code></li>
<li><code>cat</code> Concatentate multiple files and output them.  Often used to output just one file</li>
<li><code>tar</code> Often, groups of files are distributed as <i>tarballs</i>.  You can extract them with <code>tar xf file</code> or use <code>tar</code> to make a tarball.</li>
<li><code>head</code> Show the first few lines of a file</li>
<li><code>ping</code> Contact a network address and see if it is alive</li>
<li><code>tail</code> Show the last few lines of a file</li>
<li><code>watch</code> Continually read a file and update the display as it changes</li>
<li><code>wc</code>    Counts the number of words or lines in a file.  Useful for determining how many lines of code you've written</li>
<li><code>tr</code>    Replace or delete characters in an input stream</li>
<li><code>fold</code>  Insert a newline after every N characters</li>
<li><code>sed</code>   A complete programming language, specialized for replacing text in files.</li>
<li><code>awk</code>   A complete programming language, specialized at parsing tables of text</li>
<li><code>xargs</code> Useful for converting values on <code>stdin</code> into command line arguments used by another program</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-bash-scripts-2-P-1" class="outline-3">
<h3 id="bash-scripts-2-P-1">Bash scripts</h3>
<div class="outline-text-3" id="text-orga5def05">
<p>
Bash scripts contain sequences of commands and instructions for the <code>bash</code> shell to run.
A bash script can be a simple list of commands executed in sequence or a complicated and messy program.
</p>

<p>
Overall, <code>bash</code> is useful for quickly automating tasks that require running commands in the bash shell.
For more complicated tasks it is often easier to maintain a python script.
</p>

<ol class="org-ol">
<li>Modern bash scripts usually start with <code>#!/usr/bin/env bash</code> (sometimes you will see <code>#!/usr/bin/bash</code>).
<ul class="org-ul">
<li>After creating a script you will usually <code>chmod 755 your_script</code> to make it executable.</li>
<li>If your script has the executable permission and this <i>shebang</i> line then you will be able to execute
the script directly by either having it on your <code>PATH</code> or explicitly typing the path to the script at the prompt.</li>
<li>Comments in bash start with <code>#</code> so the shebang line is ignored by the interpreter.</li>
</ul></li>
<li>Alternatively, scripts can omit the shebang, and then only be executed by explicitly calling <code>bash</code> directly on the script.</li>
<li>For an in-depth tutorial see <a href="http://www.tldp.org/LDP/abs/html/">The Linux Documentation Project Advanced Shell Scripting</a></li>
</ol>
</div>
</div>
<div id="outline-container-exercises-2-P-6" class="outline-3">
<h3 id="exercises-2-P-6">Exercises</h3>
<div class="outline-text-3" id="text-orgdc7132e">
<p>
Even a broken clock is right twice a day.
</p>
<ul class="org-ul">
<li>The file <code>/dev/urandom</code> is an infinite stream of random bytes.</li>
<li><code>tr</code> lets you delete bytes matching certain criteria from an input stream.</li>
<li><code>fold</code> cuts off an input stream after a certain width and inserts a newline.</li>
<li><code>date</code> prints the current date and time: arguments provide the format.</li>
<li><code>grep</code> searches for strings from <code>stdin</code>.</li>
</ul>
<p>
Using ONLY the above commands, stream redirection, pipes, and command substitution <code>$()</code> write a single line
that will generate random times in the format HH:MM and print out the time if the randomly generated time
matches the current time to the hour and minute (as generated by date when you press enter).
</p>

<p>
You may wish to experiment with various parts of the pipeline to put this all together.
</p>
</div>
</div>
</div>

<div id="outline-container-networking-1-P-1" class="outline-2">
<h2 id="networking-1-P-1">Networking</h2>
<div class="outline-text-2" id="text-orgb96b7db">
<p>
Computer networks allow computers and robots to talk to each other.  From a robotics perspective, having some basic
knowledge of networking can help debug many problems when communicating with robots.
</p>

<p>
The Linux kernel is ultimately responsible for networking in Linux.
There are also many user-space tools to control and inspect network.
</p>

<p>
There are several tools for managing the network. We will focus on NetworkManager because
</p>
<ol class="org-ol">
<li>It is the default system installed on Ubuntu Desktop</li>
<li>It allows users to easily move between different WiFi networks</li>
</ol>

<p>
There are four major NetworkManager components
</p>
<ol class="org-ol">
<li>The NetworkManager daemon (see <code>systemctl status NetworkManager</code>), which runs in the background and responds to network changes</li>
<li>The NetworkManager applet (<code>nm-applet</code>), this is what you click on when you change network settings from the GUI</li>
<li>The NetworkManager command line interface (<code>nmcli</code>).  You can do everything from the command line, if you want</li>
<li>The NetworkManager text-user-interface (<code>nmtui</code>). Useful for managing the network when only a text console is available.</li>
</ol>
</div>

<details id="org2dc14c3"><summary class="header-4">Other Networking tools</summary>
<div class="outline-text-4" id="text-org2dc14c3">
<ol class="org-ol">
<li><code>systemd</code> (the init system) provides <code>systemd-networkd</code> which allows basic network connectivity.  It is probably best suited for systems with fixed Ethernet connections
<ul class="org-ul">
<li>This is bare-bones functionality seems best suited systems that have fixed Ethernet connectivity and do not move</li>
</ul></li>
<li><code>netplan</code> is used by Ubuntu Server. It is specific to Ubuntu, and is a declarative front-end for either NetworkManager or <code>systemd</code>.</li>
<li><code>ifplugd</code> Old school network management, with <code>ifup</code> <code>ifdown</code> commands and <code>/etc/interfaces</code>. Good for a simple static configuration.</li>
</ol>
</div>
</details>

<div id="outline-container-a-layered-network-model-2-P-1" class="outline-3">
<h3 id="a-layered-network-model-2-P-1">A Layered Network Model</h3>
<div class="outline-text-3" id="text-org6604afd">
<p>
The network can be thought of in terms of different layers, according to the <a href="https://www.guru99.com/layers-of-osi-model.html">OSI</a> model.
What follows is a simplified conceptual description, useful for someone who is specializing in robotics.
</p>
</div>

<div id="outline-container-physical-layer-3-P-1" class="outline-4">
<h4 id="physical-layer-3-P-1">Physical Layer</h4>
<div class="outline-text-4" id="text-org3692e3e">
<p>
The physical layer describes the electrical specifications for how bits are physically sent over a wire (or the air in the case of WiFi).
</p>
</div>
</div>

<div id="outline-container-data-link-layer-3-P-1" class="outline-4">
<h4 id="data-link-layer-3-P-1">Data Link Layer</h4>
<div class="outline-text-4" id="text-orga8e55f8">
<p>
Every network interface card (NIC) (e.g., WiFi or Ethernet) has a unique identifier called a MAC address.
The MAC address is used for low-level communication between hardware that is directly connected with no intermediate devices.
</p>

<ul class="org-ul">
<li>The MAC address is 48 bits long, and is typically expressed like <code>A1:B2:C3:D4:E5:F6</code></li>
<li>To see the MAC addresses of your network interface cards (NIC) (e.g., wifi and ethernet), you can use <code>nmcli</code> (the NetworkManager command line interface) or <code>ip a</code> (basic user-space Linux tool)</li>
<li>The MAC address is assigned to the network card at the factory; however, it can be changed (spoofed) in software.</li>
</ul>
</div>
</div>

<div id="outline-container-network-layer-3-P-1" class="outline-4">
<h4 id="network-layer-3-P-1">Network Layer</h4>
<div class="outline-text-4" id="text-org81645e9">
<ul class="org-ul">
<li>This layer establishes connectivity between all the hosts in the network, allowing any two hosts to talk to each other.</li>
<li>There are three main components of this layer in the internet: IP (Internet Protocol), ARP (Address Routing Protocol), and ICMP (Internet Control Messsage Protocol).</li>
<li>IP is the main protocol that we work with: each host has an IP address which is used to direct data to that particular host.</li>
<li>ARP connects the Data Link Layer and Network Layer by associating IP addresses with MAC addresses</li>
<li>ICMP is for diagostics: typically when you <code>ping</code> a host, that is sending an ICMP packet.</li>
</ul>
</div>
</div>

<div id="outline-container-transport-layer-3-P-1" class="outline-4">
<h4 id="transport-layer-3-P-1">Transport Layer</h4>
<div class="outline-text-4" id="text-org6d79209">
<ul class="org-ul">
<li>The transport layer determines how data is divided into packets over the network</li>
<li>There are two major transport layers on the internet: TCP (Transmission Control Protocol) and UDP (User Datagram Protocol)</li>
<li>TCP packets ensure end-to-end communication, meaning that when one host sends data to another host, all the data is guaranteed to arrive. It is received in the order
it which it was sent.  If data is lost, such a loss is detected through acknowledgments.</li>
<li>In UDP, a host sends packets without verifying when they arrive. Packets can also arrive in any order. UDP is faster and has less overhead than TCP but
you lose the guarantees about how and whether the data arrives at the remote host.</li>
</ul>
</div>
</div>

<div id="outline-container-application-layer-3-P-1" class="outline-4">
<h4 id="application-layer-3-P-1">Application Layer</h4>
<div class="outline-text-4" id="text-orge801cbe">
<ul class="org-ul">
<li>These are applications and protocols built on top of the  Transport Layer</li>
<li>For example Hyper Text Transfer Protocol (http), Secure Shell (ssh), IMAP4 (for email), etc.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-hubs-and-switches-2-P-1" class="outline-3">
<h3 id="hubs-and-switches-2-P-1">Hubs and Switches</h3>
<div class="outline-text-3" id="text-orgded30ee">
<p>
Hubs and switches are devices that enable multiple computers to communicate on a network.
</p>
<ol class="org-ol">
<li>A hub is essentially a wire-splitter: when a device connected to a hub sends data, all the other devices on the hub receive data.
<ul class="org-ul">
<li>If the data is destined for a specific MAC address, the other computers on the hub ignore it (or can inspect it if they want).</li>
</ul></li>
<li>A switch operates using MAC addresses. If a computer sends data to a given MAC address, the switch intervenes and sends that data
only to the intended recipient.
<ul class="org-ul">
<li>These days, we are mostly connected to switches rather than hubs.</li>
</ul></li>
<li>Generally, all computers connected to the same switch or hub can be thought of as being on the same Local Area Network (LAN).</li>
<li>A router generally contains a switch, along with an extra port for a Wide Area Network (WAN).
<ul class="org-ul">
<li>The devices on the switch are part of a LAN</li>
<li>The router lets them communicate to an upstream computer via the WAN port.</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-ip-addresses-2-P-1" class="outline-3">
<h3 id="ip-addresses-2-P-1">IP Addresses</h3>
<div class="outline-text-3" id="text-orgccd64bc">
<p>
In a TCP/IP network (like the internet), every computer has an IP address. This address is used to route packets (containing data) to your computer.
For IPv4 addresses this is a 32 bit number, often written as 4 decimal numbers separated by periods (e.g., 192.168.1.3).<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>
</div>

<div id="outline-container-subnet-mask-3-P-1" class="outline-4">
<h4 id="subnet-mask-3-P-1">Subnet Mask</h4>
<div class="outline-text-4" id="text-org21e0e8c">
<p>
IP addresses are structured such that the first \(N\) bits correspond to the network address (which all computers on a LAN share)
and the last \(32-N\) bits correspond to the host address (each computer has a unique host address on a given LAN).
</p>

<ul class="org-ul">
<li>A subnet mask is a 32 bit binary mask that determines how many bits of the IP address belong to the network and how many belong to the hosts.</li>
<li>The \(N\) most significant bits are all 1 and the \(32-N\) least significant bits are all 0.</li>
<li>A common subnet mask is 255.255.255.0 (this means the first three bytes are the network and the last byte is the host).<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
<ul class="org-ul">
<li>In this setup the LAN can have 253 hosts (two host addresses are reserved: writing to .255 broadcasts the data to all hosts).</li>
</ul></li>
<li>The subnet mask can also be represented by the number of bits that are 1.  For example, 255.255.255.0 can be expressed as /24. The /24 can conveniently be placed after
the ip address (e.g., 192.168.0.1/23 has a subnet mask of 255.255.254.0).</li>
</ul>
</div>
</div>

<div id="outline-container-routing-3-P-1" class="outline-4">
<h4 id="routing-3-P-1">Routing</h4>
<div class="outline-text-4" id="text-org58d3853">
<p>
Routing is the process of getting data to the appropriate recipient.
A router typically contains a switch (to connect LAN hosts) and an upstream WAN port, which is connected to an upstream router.
The upstream router in turn is connected to another upstream router and so on. This network of networks is essentially the internet.
</p>

<ul class="org-ul">
<li>Hosts on the same subnet (or LAN) are neighbors and can communicate via MAC addresses (since they are physically connected to the same switch or hub).</li>
<li>Hosts on different subnets must communicate through a router</li>
<li>LANs are often organized with a central router called a <i>gateway</i>.
<ul class="org-ul">
<li>Typically, all hosts are directly connected to the <i>gateway</i>.</li>
<li>When a packet is destined outside the LAN, the <i>gateway</i> sends it to the upstream router via the WAN port.</li>
<li>Not all LANS have a router.  In robotics it is common to directly connect your computer to a robot's computer without any intervening router.</li>
</ul></li>
<li>The address resolution protocol (ARP) is used to find MAC addresses on the LAN associated with a given ip address.
<ul class="org-ul">
<li>Assume that Alice (ip address 192.168.0.2/24) wants to send a message to  Bob (ip address 192.168.0.4/24)</li>
<li>Logically ANDing the ip addresses and subnet masks reveals that both Alice and Bob are expected to be on the same LAN (192.168.0.0)</li>
<li>The ARP protocol then is used to find the MAC address associated with Bob (host address 0.0.0.4).  Knowing this MAC address, Alice can send data over the LAN to Bob.</li>
<li>You can view the MAC addresses associated with IP addresses on your LAN using the <code>ip neigh</code> command.</li>
</ul></li>
<li>If Logically ANDing the ip addresses and subnet masks reveals that Alice and Bob are on different subnets
<ul class="org-ul">
<li>It is assumed that Alice and Bob are not on the same LAN, and therefore cannot directly communicate via MAC addresses.</li>
<li>The router must forward Alice's packets over it's (WAN) port to it's upstream switch.</li>
<li>The upstream switch repeats the process. Eventually the data gets where it's going.</li>
<li>Use <code>traceroute</code> (install with apt) to see what routers your packet hops through on the way to, for example, <code>www.google.com</code> or <code>www.northwestern.edu</code></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-obtaining-an-ip-3-P-1" class="outline-4">
<h4 id="obtaining-an-ip-3-P-1">Obtaining an IP</h4>
<div class="outline-text-4" id="text-org5b1fe1a">
<p>
There are many ways of obtaining an IP address.  Usually, it is obtained via a dhcp server running on the gateway router (this is how Northwestern Wireless works).
At home, your router probably obtains it's WAN ip address from your internet service provider's (ISP) router (using a dhcp client),
and assigns local addresses to your computers with its own dhcp server.
</p>

<p>
When connecting to robots, we often need to assign ip addresses statically.
With static ip allocation, each host has a manually specified IP address and subnet mask.
If all hosts are connected to the same switch/router/hub they can then communicate with each other.
</p>
</div>
</div>

<div id="outline-container-ports-3-P-1" class="outline-4">
<h4 id="ports-3-P-1">Ports</h4>
<div class="outline-text-4" id="text-org984e026">
<p>
In TCP/IP communication, data is sent over ports.
A port is represented by 16 bit integer.  A server opens a <i>socket</i> on a given port
and listens for incoming data.  A client opens a <i>socket</i> that connects to a port at a given ip address.
</p>

<p>
Most services on the internet have a standard port.  For example, a web server running the <i>http</i> protocol
runs on port 80, and one running the <i>https</i> protocol runs on port 443.  When you run a server you
can specify the port it listens on.
</p>

<p>
On Linux, only root can listen on ports below 1024.
You can see what ports are open and listening using <code>lsof</code> (list open file) because on Linux everything is a file.
The exact command to use is <code>lsof -i -P -n | grep LISTEN</code>.
</p>
</div>
</div>

<div id="outline-container-domains-3-P-1" class="outline-4">
<h4 id="domains-3-P-1">Domains</h4>
<div class="outline-text-4" id="text-orgb77a271">
<p>
To allow humans to easily remember the location of websites the internet implements domain names.  There are special DNS servers
that are used to associate ip addresses with names. Your computer connects to them to convert a domain name into an ip address.
</p>

<ul class="org-ul">
<li>DNS servers are usually run by your internet service providers, but there are also servers run by companies like google (8.8.8.8) and CloudFlare (1.1.1.1)</li>
<li>Firefox now (optionally but by default) uses DNS over HTTPS, which bypasses your systems DNS settings to connect to different DNS servers</li>
<li>In Ubuntu (by default) <code>systemd-resolved</code> runs a local DNS server on your computer.  This enables it to manage and combine results from
multiple DNS servers on the internet and your LAN.</li>
</ul>
</div>
</div>

<div id="outline-container-testing-connectivity-3-P-1" class="outline-4">
<h4 id="testing-connectivity-3-P-1">Testing Connectivity</h4>
<div class="outline-text-4" id="text-orgb913673">
<ul class="org-ul">
<li>The <code>ping</code> command allows you to test connectivity over the IP network (in most cases, unless it is specifically blocked by the target computer.</li>
<li>You can <code>ping www.domain.com</code>  or <code>ping &lt;ip address&gt;</code></li>

<li><code>traceroute</code> (<code>sudo apt install traceroute</code>) is a tool used for tracing the path your packets take to reach a destination.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-ssh-2-P-1" class="outline-3">
<h3 id="ssh-2-P-1">SSH</h3>
<div class="outline-text-3" id="text-orge36a3e8">
<ol class="org-ol">
<li><code>ssh</code> or Secure Shell lets you run a shell on a remote computer.  All data is encrypted, hence the "secure".
<ul class="org-ul">
<li>Essentially this is <code>remote desktop</code> minus the desktop</li>
<li>You can also use <code>ssh</code> to get graphical applications running over the network, either directly or by using <code>vnc</code> or <code>x2go</code></li>
</ul></li>
<li>You will mostly be using <code>ssh</code> clients, but if you do run your own <code>ssh</code> server, I recommend carefully considering
the security consequences (since doing this lets remote users run commands on your computer).
<ul class="org-ul">
<li>Running <code>ssh</code> on a non-default port certainly provides some security by obscurity.</li>
</ul></li>
<li>I will provided everyone with <code>shell</code> accounts on our GPU machine (address provided separately) which you can use to practice your ssh skills.</li>
<li>You can copy files using <code>scp</code> or <code>rsync</code></li>
</ol>
</div>
<div id="outline-container-ssh_keys" class="outline-4">
<h4 id="ssh_keys">SSH Keys</h4>
<div class="outline-text-4" id="text-ssh_keys">
<p>
SSH keys allow you to login to ssh without typing your password each time. They are mandatory for logging onto <code>MSR</code> servers.
You can also use them for <code>GitHub</code> and other <code>git</code> websites to avoid entering your password.
</p>

<p>
 Keys are divided into a public and private components.  The private key is secret, should be password protected,
and not given out to anyone.  The public key is freely distributed. An entity that has your public key can generate a cryptographic challenge
that only someone with the private key can properly respond to. A successful challenge response allows you to gain access to a system without
ever transmitting your password over the network.
</p>

<ol class="org-ol">
<li>Create an ssh key using <code>ssh-keygen -t ed25519</code>.
<ul class="org-ul">
<li>You can use GNOME/Keyring to automatically unlock the key when you need it by using <code>ssh-add</code></li>
<li>Install the <code>seahorse</code> package and use <code>/usr/lib/seahorse/ssh-askpass &lt;key&gt;</code> to unlock it at login</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-terminal-multiplexers-3-P-1" class="outline-4">
<h4 id="terminal-multiplexers-3-P-1">Terminal Multiplexers</h4>
<div class="outline-text-4" id="text-org1a995e3">
<ol class="org-ol">
<li>These programs let you save your work between ssh sessions, have multiple terminal windows
open and switch between them during a single ssh session.</li>
<li>Popular choices are <code>tmux</code>, <code>screen</code>, <code>byobu</code>.  
<ul class="org-ul">
<li>screen is the most common program and may already be installed</li>
<li>tmux is newer then screen and easier to use/better in my opinion</li>
<li>byobu is a configuration that can use either tmux or screen</li>
</ul></li>
<li>If you would like to do pair programming using only the terminal, see  <a href="https://www.hamvocke.com/blog/remote-pair-programming-with-tmux/">This tutorial</a></li>
</ol>
</div>
</div>

<div id="outline-container-emergency-text-editing-3-P-1" class="outline-4">
<h4 id="emergency-text-editing-3-P-1">Emergency Text editing</h4>
<div class="outline-text-4" id="text-orgb2a7393">
<p>
When you login to a server for the first time, you don't necessarily know what tools will be available, but you can usually count on <code>vi</code>
</p>
<ol class="org-ol">
<li><code>vi</code> is a basic text editor available on most UNIX systems.  
<ul class="org-ul">
<li>It starts in <code>Normal</code> mode, a mode where you can enter commands such as
<ul class="org-ul">
<li><code>h</code> cursor left</li>
<li><code>j</code> cursor down</li>
<li><code>k</code> cursor up</li>
<li><code>l</code> cursor right</li>
<li><code>x</code> delete character under the cursor</li>
<li><code>i</code> Enter <code>Insert</code> mode</li>
<li><code>:q!</code> Exit without saving</li>
<li><code>:qw</code> Exit with saving</li>
</ul></li>
<li>In <code>Insert</code> mode you can mostly type as usual, however
<ul class="org-ul">
<li><a href="https://vi.stackexchange.com/questions/2162/why-doesnt-the-backspace-key-work-in-insert-mode">backspace will not work</a></li>
</ul></li>
</ul></li>
<li>Multi-line strings let you easily enter text directly from the bash shell. Run <code>cat &lt;&lt; END &gt; file</code> and press <code>Enter</code>. 
Then insert text.  To finish type <code>END</code> on a line by itself to write the data to <code>file</code>. <code>END</code> is not written and it can be a word of your choice.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-hostname-2-P-1" class="outline-3">
<h3 id="hostname-2-P-1">Hostname</h3>
<div class="outline-text-3" id="text-org50391b2">
<ol class="org-ol">
<li>The <i>hostname</i> of your computer is the name of the computer used by others on the network.</li>
<li>In the terminal you will see a prompt of the form <code>&lt;user&gt;@&lt;hostname&gt;</code>.
<ul class="org-ul">
<li><code>&lt;user&gt;</code> is your username.</li>
<li><code>hostname</code> is the name of your computer</li>
</ul></li>
<li>You can change your hostname with <code>hostnamectl set-hostname &lt;new-hostname&gt;</code>
<ul class="org-ul">
<li>Don't include the angle brackets (<code>&lt;&gt;</code>): e.g., <code>hostnamectl set-hostname northwestern</code> will set your hostname to <code>northwestern</code>.</li>
<li>The hostname must start with a letter, and contain only lowercase letters (<code>a-z</code>), digits (<code>0-9</code>), and the hyphen character (<code>-</code>).</li>
<li>Hostnames are technically case-insensitive, but conventionally use lowercase letters.</li>
<li>Keep the hostname to less than 8 characters or so.</li>
<li>An official guide to choosing a "good" name for your computer is available in <a href="https://datatracker.ietf.org/doc/html/rfc1178">RFC 1178</a>.</li>
</ul></li>
<li>The file <code>/etc/hosts</code>- enables you to create a static mapping between names and IP addresses.
<ul class="org-ul">
<li>Some Linux functionality requires <code>&lt;myhostname&gt;</code> to properly resolve to your local machine.</li>
<li>Because <code>&lt;myhostname&gt;</code> is generally not registered with the Domain Name System (DNS), by default it cannot be translated into an IP address.</li>
<li>The entries in <code>/etc/hosts</code> enable your system to resolve <code>&lt;myhostname&gt;</code> and <code>&lt;myhostname&gt;.localdomain</code> to <code>127.0.1.1</code>, which always points to your computer.
<ul class="org-ul">
<li>Commonly <code>127.0.0.1</code> is used to point to your local machine, but technically any <code>127.xxx.xxx.xxx</code> addresses also work.</li>
<li>Using <code>127.0.1.1</code> enables distinguishing between addresses resolved through the name <code>localhost</code> (which always points to the local machine) and those
resolved through <code>&lt;myhostname&gt;</code> (which if you set it up can point to the ip address for your computer as used by others on the network).</li>
<li>For details see <a href="https://serverfault.com/questions/363095/why-does-my-hostname-appear-with-the-address-127-0-1-1-rather-than-127-0-0-1-in">Stack Overflow</a> and the <a href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution">Debian Manual</a>.</li>
</ul></li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-student_ssh_setup" class="outline-3">
<h3 id="student_ssh_setup">Exercises</h3>
<div class="outline-text-3" id="text-student_ssh_setup">
<p>
We will prepare to get you accounts on a machine that you can ssh into.
</p>
<ol class="org-ol">
<li>Trace your route to a website of your choice.
<ul class="org-ul">
<li>Can you identify any of the hops (e.g., which one is your router)?</li>
<li>How many hops until the packets leave your LAN?</li>
</ul></li>
<li>I've created a <code>student</code> account that you can use
<ul class="org-ul">
<li>Download the private <code>ssh</code> key and save it as <code>~/.ssh/id_student</code>
<code>curl -L 'http://beast.mech.northwestern.edu/id_student' &gt; ~/.ssh/id_student</code></li>
<li>Change permissions to owner read-write only: <code>chmod 600 ~/.ssh/id_student</code></li>
<li>Connect to the server <code>ssh -i ~/.ssh/id_student student@beast.mech.northwestern.edu</code></li>
<li>When you've successfully connected, disconnect</li>
</ul></li>
<li>On your LOCAL computer: create your own ssh key
<code>ssh-keygen -t ed25519</code>
<ul class="org-ul">
<li>Set a password!</li>
<li>Creates private key <code>~/.ssh/id_ed25519</code> (don't share this with anybody ever)
and public key <code>~/.ssh/id_ed25519.pub</code></li>
</ul></li>
<li>Use <code>scp</code> to copy your public key to the server
<code>scp -i ~/.ssh/id_student ~/.ssh/id_ed25519.pub student@beast.mech.northwestern.edu:/home/student/&lt;firstname_lastname&gt;.pub</code>
<ul class="org-ul">
<li><code>&lt;lastname_firstname&gt;</code> should be your last name, underscore, your first name</li>
</ul></li>
<li>Once your key is uploaded, I will eventually add it to your username's authorized keys file <code>~/.ssh/authorized_keys</code> on our GPU computers.</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-using-the-gui-1-P-1" class="outline-2">
<h2 id="using-the-gui-1-P-1">Using the GUI</h2>
<div class="outline-text-2" id="text-using-the-gui-1-P-1">
</div>
<div id="outline-container-architecture-of-gui-in-linux-2-P-1" class="outline-3">
<h3 id="architecture-of-gui-in-linux-2-P-1">Architecture of GUI in Linux</h3>
<div class="outline-text-3" id="text-orgb93a81d">
<ol class="org-ol">
<li>X Windows - Client server architecture for drawing GUI's and handling input.
<ul class="org-ul">
<li>Today Xorg is the display server.</li>
</ul></li>
<li>Wayland - The successor to X Windows, available on Ubuntu, recently used as the default</li>
<li>Display Manager - This is the graphical screen when you login.  GDM is the gnome display manager.</li>
<li>Desktop Environment - This is GNOME 3 by default, provides the user interface for interacting with the system
<ul class="org-ul">
<li>Alternatives include KDE and XFCE</li>
</ul></li>
<li>Window Manager - Draws windows on screen.  Your window manager is integrated with Gnome 3.</li>
<li>On Linux, you can choose your own Desktop Environment, Window Manager, and Display Manager.
It is also not necessary to have any of them.</li>
</ol>
</div>
</div>
<div id="outline-container-copy-and-paste-2-P-1" class="outline-3">
<h3 id="copy-and-paste-2-P-1">Copy and Paste</h3>
<div class="outline-text-3" id="text-org697a2b8">
<ol class="org-ol">
<li>Whatever text you highlight goes into a clipboard. Middle click pastes.</li>
<li>You can also copy and paste with right click. This is separate from the middle click clipboard</li>
<li><code>C-c</code> and <code>C-v</code> work in many gui programs but not the terminal. Adding Shift to these combinations works in some terminals</li>
<li>You can paste using <code>Shift-Ins</code>, using readline commands (emacs style).</li>
<li>Emacs and vim use their own clipboards but can access the X clipboard.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-other-resources-1-P-1" class="outline-2">
<h2 id="other-resources-1-P-1">Other Resources</h2>
<div class="outline-text-2" id="text-org2ac35e6">
<ul class="org-ul">
<li><a href="https://linuxconfig.org/bash-scripting-tutorial-for-beginners">Bash Scripting For Beginners</a></li>
<li><a href="https://ryanstutorials.net/linuxtutorial/">Bash Beginner's Guide</a></li>
<li><a href="https://linuxconfig.org/bash-scripting-tutorial">Bash Scripting Tutorial</a></li>
<li><a href="https://sites.northwestern.edu/researchcomputing/2020/03/20/online-learning-resources-command-line/">Northwestern Tutorials</a></li>
<li><a href="https://ubuntu.com/tutorials/command-line-for-beginners#1-overview">Ubuntu Tutorial</a></li>
<li><a href="https://www.gnu.org/software/bash/manual/bash.html">Official Bash Reference Manual</a></li>
<li><a href="https://tldp.org/LDP/nag2/nag2.pdf">Linux Network Administrator's Guide</a></li>
</ul>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
We will not discuss IPv6 networks here. As the world runs out of Ipv4 addresses there is a slow transition to IPv6,
but I have not needed IPv6 in a robotics context yet.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
255.255.255.0 is 11111111.11111111.11111111.00000000 in binary
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p><p class="outline-2">Author: Matthew Elwin.  Date: September 2023.</p></p>
</div>
</body>
</html>
